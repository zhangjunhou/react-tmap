!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports["react-tmap"]=e(require("react")):t["react-tmap"]=e(t.React)}(window,function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){t.exports=n(4)()},function(e,n){e.exports=t},function(t,e,n){"use strict";(function(t){var n=n||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(e){t.push(e)},remove:function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},update:function(e,o){if(0===t.length)return!1;var r=0;for(e=void 0!==e?e:n.now();r<t.length;)t[r].update(e)||o?r++:t.splice(r,1);return!0}}}();"undefined"==typeof window&&void 0!==t?n.now=function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?n.now=window.performance.now.bind(window.performance):void 0!==Date.now?n.now=Date.now:n.now=function(){return(new Date).getTime()},n.Tween=function(t){var e,o=t,r={},i={},a={},u=1e3,c=0,s=!1,l=!1,f=!1,p=0,h=null,y=n.Easing.Linear.None,d=n.Interpolation.Linear,v=[],m=null,b=!1,g=null,O=null,w=null;this.to=function(t,e){return i=t,void 0!==e&&(u=e),this},this.start=function(t){for(var e in n.add(this),l=!0,b=!1,h=void 0!==t?t:n.now(),h+=p,i){if(i[e]instanceof Array){if(0===i[e].length)continue;i[e]=[o[e]].concat(i[e])}void 0!==o[e]&&(r[e]=o[e],r[e]instanceof Array==0&&(r[e]*=1),a[e]=r[e]||0)}return this},this.stop=function(){return l?(n.remove(this),l=!1,null!==w&&w.call(o,o),this.stopChainedTweens(),this):this},this.end=function(){return this.update(h+u),this},this.stopChainedTweens=function(){for(var t=0,e=v.length;t<e;t++)v[t].stop()},this.delay=function(t){return p=t,this},this.repeat=function(t){return c=t,this},this.repeatDelay=function(t){return e=t,this},this.yoyo=function(t){return s=t,this},this.easing=function(t){return y=t,this},this.interpolation=function(t){return d=t,this},this.chain=function(){return v=arguments,this},this.onStart=function(t){return m=t,this},this.onUpdate=function(t){return g=t,this},this.onComplete=function(t){return O=t,this},this.onStop=function(t){return w=t,this},this.update=function(t){var n,l,w;if(t<h)return!0;for(n in!1===b&&(null!==m&&m.call(o,o),b=!0),w=y(l=(l=(t-h)/u)>1?1:l),i)if(void 0!==r[n]){var _=r[n]||0,P=i[n];P instanceof Array?o[n]=d(P,w):("string"==typeof P&&(P="+"===P.charAt(0)||"-"===P.charAt(0)?_+parseFloat(P):parseFloat(P)),"number"==typeof P&&(o[n]=_+(P-_)*w))}if(null!==g&&g.call(o,w),1===l){if(c>0){for(n in isFinite(c)&&c--,a){if("string"==typeof i[n]&&(a[n]=a[n]+parseFloat(i[n])),s){var x=a[n];a[n]=i[n],i[n]=x}r[n]=a[n]}return s&&(f=!f),h=void 0!==e?t+e:t+p,!0}null!==O&&O.call(o,o);for(var k=0,T=v.length;k<T;k++)v[k].start(h+u);return!1}return!0}},n.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-n.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*n.Easing.Bounce.In(2*t):.5*n.Easing.Bounce.Out(2*t-1)+.5}}},n.Interpolation={Linear:function(t,e){var o=t.length-1,r=o*e,i=Math.floor(r),a=n.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],r):e>1?a(t[o],t[o-1],o-r):a(t[i],t[i+1>o?o:i+1],r-i)},Bezier:function(t,e){for(var o=0,r=t.length-1,i=Math.pow,a=n.Interpolation.Utils.Bernstein,u=0;u<=r;u++)o+=i(1-e,r-u)*i(e,u)*t[u]*a(r,u);return o},CatmullRom:function(t,e){var o=t.length-1,r=o*e,i=Math.floor(r),a=n.Interpolation.Utils.CatmullRom;return t[0]===t[o]?(e<0&&(i=Math.floor(r=o*(1+e))),a(t[(i-1+o)%o],t[i],t[(i+1)%o],t[(i+2)%o],r-i)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[o]-(a(t[o],t[o],t[o-1],t[o-1],r-o)-t[o]):a(t[i?i-1:0],t[i],t[o<i+1?o:i+1],t[o<i+2?o:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var o=n.Interpolation.Utils.Factorial;return o(t)/o(e)/o(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var o=e;o>1;o--)n*=o;return t[e]=n,n}}(),CatmullRom:function(t,e,n,o,r){var i=.5*(n-t),a=.5*(o-e),u=r*r;return(2*e-2*n+i+a)*(r*u)+(-3*e+3*n-2*i-a)*u+i*r+e}}},e.a=n}).call(this,n(6))},function(t,e,n){"use strict";var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},c=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e,n=o.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return void 0===e||o.call(t,e)},s=function(t,e){i&&"__proto__"===e.name?i(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},l=function(t,e){if("__proto__"===e){if(!o.call(t,e))return;if(a)return a(t,e).value}return t[e]};t.exports=function t(){var e,n,o,r,i,a,f=arguments[0],p=1,h=arguments.length,y=!1;for("boolean"==typeof f&&(y=f,f=arguments[1]||{},p=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});p<h;++p)if(null!=(e=arguments[p]))for(n in e)o=l(f,n),f!==(r=l(e,n))&&(y&&r&&(c(r)||(i=u(r)))?(i?(i=!1,a=o&&u(o)?o:[]):a=o&&c(o)?o:{},s(f,{name:n,newValue:t(y,a,r)})):void 0!==r&&s(f,{name:n,newValue:r}));return f}},function(t,e,n){"use strict";var o=n(5);function r(){}t.exports=function(){function t(t,e,n,r,i,a){if(a!==o){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var c,s=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&h())}function h(){if(!l){var t=u(p);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function d(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new y(t,e)),1!==s.length||l||u(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"getPositionByAddress",function(){return g}),n.d(o,"getAddressByLatLng",function(){return w}),n.d(o,"convertorPointsToPath",function(){return _}),n.d(o,"getAddressByPosition",function(){return b}),n.d(o,"pointToLatLng",function(){return P}),n.d(o,"toPascal",function(){return x}),n.d(o,"hasNoneCrossingLinePolygonal",function(){return S}),n.d(o,"getCrossingPolygonal",function(){return E}),n.d(o,"isCrossingPolygonal",function(){return j}),n.d(o,"getPolygonAreaCenter",function(){return R}),n.d(o,"getMapSize",function(){return q}),n.d(o,"clear",function(){return L}),n.d(o,"toFixedNumber",function(){return D}),n.d(o,"fomatFloat",function(){return I});var r={};n.r(r),n.d(r,"ANIMATION_DROP",function(){return pt}),n.d(r,"ANIMATION_BOUNCE",function(){return ht}),n.d(r,"ANIMATION_DOWN",function(){return yt}),n.d(r,"ANIMATION_UP",function(){return dt}),n.d(r,"ControlPosition",function(){return vt});var i=n(1),a=n.n(i);function u(t){"@babel/helpers - typeof";return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,a.a.Component);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?l(t):e}(this,n)}}(n);function n(){var t;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return p(l(t=e.call.apply(e,[this].concat(r))),"bindEvent",function(e,n){var o=l(t);n.length&&n.forEach(function(t){if("[object Array]"===Object.prototype.toString.call(t)&&t[1]){var n=t[0];qq.maps.event.addListenerOnce(e,n,function(t){o.props.events&&o.props.events[n]&&o.props.events[n].call(o,e,t)})}else qq.maps.event.addListener(e,t,function(n){o.props.events&&o.props.events[t]&&o.props.events[t].call(o,e,n)})})}),p(l(t),"bindToggleMeghods",function(e,n){for(var o in n)void 0!==t.props[o]&&(t.props[o]?e[n[o][0]]():e[n[o][1]]())}),p(l(t),"getOptions",function(e){var n={};return e.forEach(function(e){void 0!==t.props[e]&&(n[e]=t.props[e])}),n}),t}return function(t,e,n){e&&c(t.prototype,e)}(n,[{key:"render",value:function(){return null}}]),n}(),y=n(0),d=n.n(y);function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var b=function(t){var e=t.lat,n=t.lng;return w(P({lat:e,lng:n}))},g=function(t){var e=t.address;return O(e)},O=function(t){return new Promise(function(e,n){new qq.maps.Geocoder({complete:function(t){return e(t)},error:function(t){return n(t)}}).getLocation(t)})},w=function(t){return new Promise(function(e){new qq.maps.Geocoder({complete:function(t){return e(t)},error:function(t){return reject(t)}}).getAddress(t)})},_=function(t){return t.map(function(t){return P(t)})},P=function(t){var e=t.lat,n=t.lng;return new qq.maps.LatLng(e,n)},x=function(t){return t&&0!==t.length?"".concat(t[0].toUpperCase()).concat(t.substr(1)):""},k=function(t,e){return t.x*e.y-t.y*e.x},T=function(t,e){var n=v(t,2),o=n[0],r=n[1],i=v(e,2),a=i[0],u=i[1],c={x:o.x-a.x,y:o.y-a.y},s={x:r.x-a.x,y:r.y-a.y},l={x:u.x-a.x,y:u.y-a.y},f=k(c,l)*k(s,l);return c={x:a.x-o.x,y:a.y-o.y},s={x:u.x-o.x,y:u.y-o.y},l={x:r.x-o.x,y:r.y-o.y},!!(f<=0&&k(c,l)*k(s,l)<=0)},S=function(t){var e=C(t);return!e.some(function(t,n){return e.filter(function(t,o){return Math.abs(o-n)>=2&&Math.abs(o-n)<e.length-1}).some(function(e){return T(t,e)})})},C=function(t){var e=[];return t&&t.length&&t.forEach(function(n,o){e.push([n,t[o+1===t.length?0:o+1]])}),e},j=function(t){var e=v(t,2),n=e[0],o=e[1],r=C(n),i=C(o);return r.some(function(t){return i.some(function(e){return T(t,e)})})},E=function(t){var e=[],n=[];if(t&&Array.isArray(t)&&t.length>1){for(var o=0,r=t.length;o<r-1;o++)for(var i=o+1;i<r;i++)e.push({index:[o,i],polygonal:[t[o],t[i]]});e.forEach(function(t){var e=t.polygonal,o=t.index;j(e)&&n.push(o)})}return n};function M(t,e,n){return(t.x*e.y+e.x*n.y+n.x*t.y-e.x*t.y-n.x*e.y-t.x*n.y)/2}var R=function(t){for(var e,n,o=0,r=0,i=0,a=t[1],u=2;u<t.length;u++)e=t[u],i+=n=M(t[0],a,e),o+=(t[0].x+a.x+e.x)*n,r+=(t[0].y+a.y+e.y)*n,a=e;return{x:o/i/3,y:r/i/3}},q=function(t){var e=t.container;return{width:e.clientWidth,height:e.clientHeight}},L=function(t){t&&t.clearRect&&t.clearRect(0,0,t.canvas.width,t.canvas.height)},D=function(t,e){var n=Math.pow(10,e);return Math.round(t*n/n)},I=function(t,e){var n=((arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Math.round:Math.floor)(t*Math.pow(10,e))/Math.pow(10,e)).toString();n.indexOf(".")<0&&(n+=".");for(var o=n.length-n.indexOf(".");o<=e;o++)n+="0";return n};function z(t){"@babel/helpers - typeof";return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(n,h);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=F(t);if(e){var r=F(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?B(t):e}(this,n)}}(n);function n(){var t;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return H(B(t=e.call.apply(e,[this].concat(r))),"initMap",function(){var e=t.getOptions(t.options);e.center=P(e.center),t.map=new qq.maps.Map(t.mapNode,e),t.bindEvent(t.map,t.events)}),H(B(t),"onRender",function(){if(t.props.render&&t.map)return t.props.render(t.map)}),H(B(t),"renderChildren",function(){var e=t.props.children;if(e&&t.map)return a.a.Children.map(e,function(e){if(e)return"string"==typeof e?e:a.a.cloneElement(e,{map:t.map})})}),t}return function(t,e,n){e&&A(t.prototype,e)}(n,[{key:"componentDidMount",value:function(){this.initMap(),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.map=null}},{key:"componentDidUpdate",value:function(t){var e=t.center,n=t.zoom,o=P(this.props.center);n!==this.props.zoom&&this.map.zoomTo(this.props.zoom),e!==this.props.center&&this.map.panTo(o)}},{key:"render",value:function(){var t=this,e=this.props.style;return a.a.createElement("div",{className:"qmap-container",style:e},a.a.createElement("div",{ref:function(e){return t.mapNode=e},className:this.props.className,style:{height:"100%",width:"100%"}},"加载地图中...",this.renderChildren(),this.onRender()))}},{key:"events",get:function(){return["click","dblclick","rightclick","mouseover","mouseout","mousemove","drag","dragstart","dragend","longpress","bounds_changed","center_changed","zoom_changed","maptypeid_changed","projection_changed",["idle",!0],"tilesloaded","resize"]}},{key:"options",get:function(){return["center","zoom","minZoom","maxZoom","mapZoomType","noClear","backgroundColor","boundary","draggableCursor","mapTypeId","draggable","scrollwheel","disableDoubleClickZoom","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","panControl","panControlOptions","zoomControl","zoomControlOptions","scaleControl","scaleControlOptions"]}}]),n}();H(U,"defaultProps",{style:{height:"600px"}}),H(U,"propTypes",{center:d.a.shape({lat:d.a.number,lng:d.a.number})});var G=U;function W(t){"@babel/helpers - typeof";return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(n,a.a.Component);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=V(t);if(e){var r=V(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?Q(t):e}(this,n)}}(n);function n(){var t;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Y(Q(t=e.call.apply(e,[this].concat(r))),"initHeatMap",function(){var e=t.props,n=e.options,o=e.heatData,r=e.map;r&&qq.maps.event.addListenerOnce(r,"idle",function(){t.heatMap=new QQMapPlugin.HeatmapOverlay(r,n),t.heatMap.setData(o)})}),t}return function(t,e,n){e&&Z(t.prototype,e)}(n,[{key:"componentDidMount",value:function(){this.initHeatMap()}},{key:"componentDidUpdate",value:function(t){t.heatData.data!==this.props.heatData.data&&this.heatMap&&this.heatMap.setData(this.props.heatData)}},{key:"render",value:function(){return null}}]),n}();function $(t){"@babel/helpers - typeof";return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Y(X,"defaultProps",{options:{radius:1,maxOpacity:.8,useLocalExtrema:!0,valueField:"count"},heatData:{max:100,data:[]}}),Y(X,"propTypes",{options:d.a.object,heatData:d.a.shape({max:d.a.number,data:d.a.arrayOf(d.a.object)})});var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(n,h);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=nt(t);if(e){var r=nt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?et(t):e}(this,n)}}(n);function n(){var t;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return ot(et(t=e.call.apply(e,[this].concat(r))),"initialize",function(){t.props.map&&(t.destroy(),t.overlay=t.getOverlay(),t.overlay&&t.bindEvent(t.overlay,t.events))}),ot(et(t),"_getOptions",function(){return{}}),t}return function(t,e,n){e&&K(t.prototype,e)}(n,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"componentDidUpdate",value:function(t){var e=this,n=this.options||[],o=this._getOptions();this.overlay&&n.forEach(function(n){var r="set".concat(x(n));e.props[n]!==t[n]&&e.overlay[r]&&e.overlay[r](o[n])})}},{key:"destroy",value:function(){this.overlay&&(this.overlay.setMap(null),this.overlay=null)}},{key:"getOverlay",value:function(){return null}},{key:"render",value:function(){return null}}]),n}();function it(t){"@babel/helpers - typeof";return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(n,rt);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=st(t);if(e){var r=st(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==it(e)&&"function"!=typeof e?ct(t):e}(this,n)}}(n);function n(){var t;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return lt(ct(t=e.call.apply(e,[this].concat(r))),"_getOptions",function(){var e=t.props,n=e.decoration,o=e.icon,r=e.color,i=t.getOptions(t.options);return i.position=P(i.position),n&&(i.decoration=new qq.maps.MarkerDecoration('<div style="color: '.concat(r,'"><span class="content">').concat(n,"</span></div>"),new qq.maps.Point(0,-5))),!o||o instanceof qq.maps.MarkerImage||(i.icon=new qq.maps.MarkerImage(o)),i}),lt(ct(t),"getOverlay",function(){var e=t.props,n=e.map,o=e.visible;if(!n)return null;var r=t._getOptions();return t.marker||(t.marker=new qq.maps.Marker(r)),o?t.marker.setMap(n):t.marker.setMap(null),t.marker}),t}return function(t,e,n){e&&at(t.prototype,e)}(n,[{key:"events",get:function(){return["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","map_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed","click","mousedown","mouseup","mouseover","mouseout","dblclick","rightclick","dragstart","dragging","dragend","moving","moveend"]}},{key:"options",get:function(){return["animation","clickable","draggable","flat","cursor","icon","size","shadow","shape","title","visible","zIndex","map","color","position","rotation","autoRotation","decoration"]}}]),n}();lt(ft,"defaultProps",{decoration:null,visible:!0,color:"#fff"}),lt(ft,"propTypes",{position:d.a.shape({lat:d.a.number,lng:d.a.number})});var pt=qq.maps.MarkerAnimation.DROP,ht=qq.maps.MarkerAnimation.BOUNCE,yt=qq.maps.MarkerAnimation.DOWN,dt=qq.maps.MarkerAnimation.UP,vt=[qq.maps.ControlPosition.TOP_LEFT,qq.maps.ControlPosition.TOP_CENTER,qq.maps.ControlPosition.TOP_RIGHT,qq.maps.ControlPosition.BOTTOM_LEFT,qq.maps.ControlPosition.BOTTOM_CENTER,qq.maps.ControlPosition.BOTTOM_RIGHT,qq.maps.ControlPosition.LEFT_TOP,qq.maps.ControlPosition.LEFT_CENTER,qq.maps.ControlPosition.LEFT_BOTTOM,qq.maps.ControlPosition.RIGHT_TOP,qq.maps.ControlPosition.RIGHT_CENTER,qq.maps.ControlPosition.RIGHT_BOTTOM,qq.maps.ControlPosition.CENTER];function mt(t){"@babel/helpers - typeof";return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(){return(bt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function Ot(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(n,a.a.Component);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=_t(t);if(e){var r=_t(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(){return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),e.apply(this,arguments)}return function(t,e,n){e&&Ot(t.prototype,e)}(n,[{key:"render",value:function(){var t=this.props,e=t.data,n=t.showDecoration,o=function(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(t,["data","showDecoration"]);return e.map(function(t,e){var r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach(function(e){Pt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},o);return r.position=t,n&&(r.decoration=t.decoration?t.decoration:e+1),a.a.createElement(ft,bt({key:e},r))})}}]),n}();function kt(t){"@babel/helpers - typeof";return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(n),!0).forEach(function(e){Rt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Pt(xt,"defaultProps",{data:[],animation:pt,showDecoration:!0}),Pt(xt,"propTypes",{data:d.a.arrayOf(d.a.shape({lat:d.a.number,lng:d.a.number}))});var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(n,h);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=Mt(t);if(e){var r=Mt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==kt(e)&&"function"!=typeof e?Et(t):e}(this,n)}}(n);function n(){var t;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Rt(Et(t=e.call.apply(e,[this].concat(r))),"initInfo",function(){var e=t.props,n=e.map,o=e.visible,r=e.position,i=r.lat,a=r.lng,u=P({lat:i,lng:a}),c=t.getOptions(t.options);if(c.position=u,n){t.info||(t.info=new qq.maps.InfoWindow(St(St({},c),{},{map:n})),t.bindEvent(t.info,t.events));var s='<div style="width: 100%;max-width: 300px;text-align:left;">'.concat(c.content,"</div>");t.info.setPosition(u),t.info.setContent(s),o?t.info.open():t.info.close()}}),t}return function(t,e,n){e&&Ct(t.prototype,e)}(n,[{key:"componentDidMount",value:function(){this.initInfo()}},{key:"componentDidUpdate",value:function(){this.initInfo()}},{key:"render",value:function(){return null}},{key:"events",get:function(){return["content_changed","position_changed","zindex_changed","domready","closeclick"]}},{key:"options",get:function(){return["content","position","zIndex","visible"]}}]),n}();function Lt(t){"@babel/helpers - typeof";return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Rt(qt,"defaultProps",{visible:!1,position:{},content:"测试"}),Rt(qt,"propTypes",{visible:d.a.bool,position:d.a.shape({lat:d.a.number,lng:d.a.number}),content:d.a.any});var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(n,rt);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=At(t);if(e){var r=At(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==Lt(e)&&"function"!=typeof e?zt(t):e}(this,n)}}(n);function n(){var t;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Nt(zt(t=e.call.apply(e,[this].concat(r))),"_getOptions",function(){var e=t.props.center,n=t.getOptions(t.options);return n.center=P(e),n}),Nt(zt(t),"getOverlay",function(){var e=t.props,n=e.map,o=e.visible,r=t._getOptions();if(n)return t.circle&&t.circle.setMap(null),t.circle=new qq.maps.Circle(r),o?t.circle.setMap(n):t.circle.setMap(null),t.circle}),t}return function(t,e,n){e&&Dt(t.prototype,e)}(n,[{key:"events",get:function(){return["center_changed","map_changed","radius_changed","visible_changed","zindex_changed","click","dblclick","rightclick","mousedown","mouseup","mouseover","mouseout","mousemove"]}},{key:"options",get:function(){return["center","clickable","cursor","fillColor","map","radius","strokeColor","strokeDashStyle","strokeWeight","visible","zIndex"]}}]),n}();function Ft(t){"@babel/helpers - typeof";return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ht(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wt(t){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Nt(Bt,"defaultProps",{center:{},radius:10,visible:!0}),Nt(Bt,"propTypes",{center:d.a.shape({lat:d.a.number,lng:d.a.number}).isRequired,radius:d.a.number.isRequired});var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ut(t,e)}(n,rt);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=Wt(t);if(e){var r=Wt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?Gt(t):e}(this,n)}}(n);function n(){var t;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Zt(Gt(t=e.call.apply(e,[this].concat(r))),"setPoints",function(e){var n=_(e);t.polyline&&t.polyline.setPath(n)}),Zt(Gt(t),"_getOptions",function(){var e=t.props.points,n=_(e),o=t.getOptions(t.options);return o.path=n,o}),Zt(Gt(t),"getOverlay",function(){var e=t.props,n=e.visible,o=e.map,r=t._getOptions();if(o)return t.polyline||(t.polyline=new qq.maps.Polyline(r),t.polyline.setPoints=t.setPoints),n?t.polyline.setMap(o):t.polyline.setMap(null),t.polyline}),t}return function(t,e,n){e&&Ht(t.prototype,e)}(n,[{key:"render",value:function(){return null}},{key:"events",get:function(){return["map_changed","visible_changed","zindex_changed","click","dblclick","rightclick","mousedown","mouseup","mouseover","mouseout","mousemove","insertNode","removeNode","adjustNode"]}},{key:"options",get:function(){return["clickable","cursor","editable","map","path","points","strokeColor","strokeDashStyle","strokeWeight","visible","zIndex"]}}]),n}();function Qt(t){"@babel/helpers - typeof";return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Zt(Jt,"defaultProps",{points:[],visible:!1}),Zt(Jt,"propTypes",{points:d.a.arrayOf(d.a.shape({lat:d.a.number,lng:d.a.number})),visible:d.a.bool});var te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yt(t,e)}(n,rt);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=$t(t);if(e){var r=$t(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==Qt(e)&&"function"!=typeof e?Xt(t):e}(this,n)}}(n);function n(){var t;!function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Kt(Xt(t=e.call.apply(e,[this].concat(r))),"setPoints",function(e){var n=_(e);t.polygon&&t.polygon.setPath(n)}),Kt(Xt(t),"_getOptions",function(){var e=t.props.points,n=_(e),o=t.getOptions(t.options);return o.path=n,o}),Kt(Xt(t),"getOverlay",function(){var e=t.props,n=e.visible,o=e.map,r=t._getOptions();if(o)return t.polygon||(t.polygon=new qq.maps.Polygon(r),t.polygon.setPoints=t.setPoints),n?t.polygon.setMap(o):t.polygon.setMap(null),t.polygon}),t}return function(t,e,n){e&&Vt(t.prototype,e)}(n,[{key:"render",value:function(){return null}},{key:"events",get:function(){return["map_changed","visible_changed","zindex_changed","click","dblclick","rightclick","mousedown","mouseup","mouseover","mouseout","mousemove","insertNode","removeNode","adjustNode"]}},{key:"options",get:function(){return["clickable","cursor","editable","fillColor","map","path","points","strokeColor","strokeDashStyle","strokeWeight","visible","zIndex","draggable"]}}]),n}();function ee(t){"@babel/helpers - typeof";return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function oe(t,e){return(oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Kt(te,"defaultProps",{points:[],visible:!0}),Kt(te,"propTypes",{points:d.a.arrayOf(d.a.shape({lat:d.a.number,lng:d.a.number})),visible:d.a.bool});var ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oe(t,e)}(n,h);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=ie(t);if(e){var r=ie(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?re(t):e}(this,n)}}(n);function n(t){var o;return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),ae(re(o=e.call(this,t)),"initialize",function(){o.props.map&&(o.control=o.getControl())}),o.controlNode=void 0,o}return function(t,e,n){e&&ne(t.prototype,e)}(n,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"getControl",value:function(){var t=this.props,e=t.map,n=t.position;if(e&&this.controlNode){var o=e.controls[n];return o.push(this.controlNode),this.control=this.controlNode,this.control.index=o.length,this.control}}}]),n}();ae(ue,"propTypes",{position:d.a.oneOf(vt)});var ce={TOP_LEFT:qq.maps.ControlPosition.TOP_LEFT,TOP_CENTER:qq.maps.ControlPosition.TOP_CENTER,TOP_RIGHT:qq.maps.ControlPosition.TOP_RIGHT,BOTTOM_LEFT:qq.maps.ControlPosition.BOTTOM_LEFT,BOTTOM_CENTER:qq.maps.ControlPosition.BOTTOM_CENTER,BOTTOM_RIGHT:qq.maps.ControlPosition.BOTTOM_RIGHT,LEFT_TOP:qq.maps.ControlPosition.LEFT_TOP,LEFT_CENTER:qq.maps.ControlPosition.LEFT_CENTER,LEFT_BOTTOM:qq.maps.ControlPosition.LEFT_BOTTOM,RIGHT_TOP:qq.maps.ControlPosition.RIGHT_TOP,RIGHT_CENTER:qq.maps.ControlPosition.RIGHT_CENTER,RIGHT_BOTTOM:qq.maps.ControlPosition.RIGHT_BOTTOM,CENTER:qq.maps.ControlPosition.CENTER};function se(){this._subscribers={}}se.prototype.on=function(t,e){var n=this._subscribers[t];n||(n=[],this._subscribers[t]=n),n.push({callback:e})},se.prototype.off=function(t,e){var n=this._subscribers[t];if(n)for(var o=0;o<n.length;o++)n[o].callback===e&&(n.splice(o,1),o--)},se.prototype._trigger=function(t,e,n){if("*"===t)throw new Error("Cannot trigger event *");var o=[];t in this._subscribers&&(o=o.concat(this._subscribers[t])),"*"in this._subscribers&&(o=o.concat(this._subscribers["*"]));for(var r=0,i=o.length;r<i;r++){var a=o[r];a.callback&&a.callback(t,e,n||null)}};var le=se;function fe(t,e){le.bind(this)(),this._options=e||{},this._data=[],t&&this.add(t)}fe.prototype=le.prototype,fe.prototype.add=function(t,e){if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++){if(t[n].time&&14==t[n].time.length&&"20"==t[n].time.substr(0,2)){var r=t[n].time;t[n].time=new Date(r.substr(0,4)+"-"+r.substr(4,2)+"-"+r.substr(6,2)+" "+r.substr(8,2)+":"+r.substr(10,2)+":"+r.substr(12,2)).getTime()}this._data.push(t[n])}else{if(!(t instanceof Object))throw new Error("Unknown dataType");this._data.push(t)}this._dataCache=JSON.parse(JSON.stringify(this._data))},fe.prototype.reset=function(){this._data=JSON.parse(JSON.stringify(this._dataCache))},fe.prototype.get=function(t){t=t||{},new Date;var e=this._data;if(new Date,t.filter){for(var n=[],o=0;o<e.length;o++)t.filter(e[o])&&n.push(e[o]);e=n}return t.transferCoordinate&&(e=this.transferCoordinate(e,t.transferCoordinate,t.fromColumn,t.toColumn)),e},fe.prototype.set=function(t){this._set(t),this._trigger("change")},fe.prototype._set=function(t){this.clear(),this.add(t)},fe.prototype.clear=function(t){this._data=[]},fe.prototype.remove=function(t){},fe.prototype.update=function(t,e){for(var n=this._data,o=0;o<n.length;o++)if(e){var r=!0;for(var i in e)n[o][i]!=e[i]&&(r=!1);r&&t&&t(n[o])}else t&&t(n[o]);this._dataCache=JSON.parse(JSON.stringify(this._data)),this._trigger("change")},fe.prototype.transferCoordinate=function(t,e,n,o){o=o||"_coordinates",n=n||"coordinates";for(var r=0;r<t.length;r++){var i=t[r].geometry,a=i[n];switch(i.type){case"Point":i[o]=e(a);break;case"LineString":for(var u=[],c=0;c<a.length;c++)u.push(e(a[c]));i[o]=u;break;case"Polygon":u=f(a),i[o]=u;break;case"MultiPolygon":u=[];for(var s=0;s<a.length;s++){var l=f(l=a[s]);u.push(l)}i[o]=u}}function f(t){for(var n=[],o=0;o<t.length;o++){for(var r=t[o],i=[],a=0;a<r.length;a++)i.push(e(r[a]));n.push(i)}return n}return t},fe.prototype.initGeometry=function(t){t?this._data.forEach(function(e){e.geometry=t(e)}):this._data.forEach(function(t){t.geometry||t.lng&&t.lat&&(t.geometry={type:"Point",coordinates:[t.lng,t.lat]})})},fe.prototype.getMax=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var n=parseFloat(e[0][t]),o=1;o<e.length;o++){var r=parseFloat(e[o][t]);r>n&&(n=r)}return n}},fe.prototype.getSum=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var n=0,o=0;o<e.length;o++)e[o][t]&&(n+=parseFloat(e[o][t]));return n}},fe.prototype.getMin=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var n=parseFloat(e[0][t]),o=1;o<e.length;o++){var r=parseFloat(e[o][t]);r<n&&(n=r)}return n}},fe.prototype.getUnique=function(t){if((o=this._data)&&!(o.length<=0)){for(var e={},n=1;n<o.length;n++)e[o[n][t]]=!0;var o=[];for(var r in e)o.push(r);return o}};var pe=fe,he=n(2),ye=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=document.createElement("canvas");return e&&(o.width=e),n&&(o.height=n),o};function de(t){t=t||{},this.gradient=t.gradient,this.maxSize=t.maxSize||35,this.minSize=t.minSize||0,this.max=t.max||100,this.min=t.min||0,this.initPalette()}de.prototype.setMax=function(t){this.max=t||100},de.prototype.setMin=function(t){this.min=t||0},de.prototype.setMaxSize=function(t){this.maxSize=t||35},de.prototype.setMinSize=function(t){this.minSize=t||0},de.prototype.initPalette=function(){var t=this.gradient,e=new ye(256,1),n=this.paletteCtx=e.getContext("2d"),o=n.createLinearGradient(0,0,256,1);t.forEach(function(t){var e=t.color;"[object Array]"===Object.prototype.toString.call(e)&&(e=e[0]),o.addColorStop(parseFloat(t.key),e)}),n.fillStyle=o,n.fillRect(0,0,256,1)},de.prototype.getColor=function(t){var e=this.getImageData(t);return"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]/256+")"},de.prototype.getImageData=function(t){var e=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===t)return e;var n=this.max,o=this.min;t>n&&(t=n),t<o&&(t=o);var r=4*Math.floor((t-o)/(n-o)*255);return[e[r],e[r+1],e[r+2],e[r+3]]},de.prototype.getSize=function(t){var e=this.max,n=this.min,o=this.maxSize,r=this.minSize;return t>e&&(t=e),t<n&&(t=n),r+(t-n)/(e-n)*(o-r)},de.prototype.getLegend=function(t){var e=this.gradient,n=t.width||20,o=t.height||180,r=new ye(n,o),i=r.getContext("2d"),a=i.createLinearGradient(0,o,0,0);for(var u in console.log(e),e)a.addColorStop(parseFloat(u),e[u]);return i.fillStyle=a,i.fillRect(0,0,n,o),r},de.prototype.getTextColor=function(t,e){return t.find(function(t){if(e>=t.start&e<=t.end)return t.value})};var ve=de;function me(t){this.splitList=t||{other:1}}me.prototype.get=function(t){var e=this.splitList,n=e.other;for(var o in e)if(t==o){n=e[o];break}return n},me.prototype.generateByDataSet=function(t,e){var n=e||["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],o=t.get();this.splitList={};for(var r=0,i=0;i<o.length&&(void 0===this.splitList[o[i].count]&&(this.splitList[o[i].count]=n[r],r++),!(r>=n.length-1));i++);this.splitList.other=n[n.length-1]},me.prototype.getLegend=function(t){var e=this.splitList,n=document.createElement("div");n.style.cssText="background:#fff; padding: 5px; border: 1px solid #ccc;";var o="";for(var r in e)o+='<div style="line-height: 19px;" value="'+r+'"><span style="vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:'+e[r]+';"></span><span style="margin-left: 3px;">'+r+"<span></div>";return n.innerHTML=o,n};var be=me,ge=[{key:.1,color:["#cbe6ff","#0e3ca1"]},{key:.2,color:["#add7ff","#0e3ca1"]},{key:.3,color:["#87c1ff","#0e3ca1"]},{key:.4,color:["#60a8ff","#0e3ca1"]},{key:.5,color:"#338bff"},{key:.6,color:"#0d6be3"},{key:.7,color:"#0752c9"},{key:.8,color:"#0e3ca1"},{key:.9,color:"#022277"},{key:1,color:"#01164b"}];function Oe(t){this.splitList=t||[{start:0,value:"red"}]}Oe.prototype.get=function(t){for(var e=this.splitList,n=!1,o=0;o<e.length;o++)if((void 0===e[o].start||void 0!==e[o].start&&t>=e[o].start)&&(void 0===e[o].end||void 0!==e[o].end&&t<e[o].end)){n=e[o].value;break}return n},Oe.prototype.generateByDataSet=function(t,e){var n=t.getMin("count"),o=t.getMax("count");this.generateByMinMax(n,o,e)},Oe.prototype.generateByMinMax=function(t,e,n){var o=n||ge,r=Number(Math.ceil((e-t)/o.length));e=Number(e);var i=Number(t);this.splitList=[];for(var a=0;i<e;)this.splitList.push({start:i,end:i+r,value:o[a]}),a++,i+=r},Oe.prototype.getLegend=function(t){return this.splitList};var we=Oe;function _e(t,e,n){var o=60*n+30,r=Math.PI/180*o;return[t.x+e*Math.cos(r),t.y+e*Math.sin(r)]}var Pe={drawDataSet:function(t,e,n){for(var o=e instanceof pe?e.get():e,r=0,i=o.length;r<i;r++){var a=o[r];this.draw(t,a,n)}},draw:function(t,e,n){var o=e.geometry.type,r=e.geometry._coordinates||e.geometry.coordinates,i=n.symbol||"circle";switch(o){case"Point":var a=e._size||e.size||n._size||n.size||5;"circle"===i?("Point"===n.bigData&&t.moveTo(r[0],r[1]),t.arc(r[0],r[1],a,0,2*Math.PI)):"rect"===i?t.rect(r[0]-a/2,r[1]-a/2,a,a):"honeycomb"===i&&function(t,e,n,o){for(var r=0;r<6;r++){var i=_e({x:e,y:n},o,r);t.lineTo(i[0],i[1])}}(t,r[0],r[1],a);break;case"LineString":for(var u=0;u<r.length;u++){var c=r[u][0],s=r[u][1];0==u?t.moveTo(c,s):t.lineTo(c,s)}break;case"Polygon":this.drawPolygon(t,r);break;case"MultiPolygon":for(var l=0;l<r.length;l++){var f=r[l];this.drawPolygon(t,f),n.multiPolygonDraw&&n.multiPolygonDraw()}break;default:console.log("type"+o+"is not support now!")}},drawPolygon:function(t,e){t.beginPath();for(var n=0;n<e.length;n++){var o=e[n];t.moveTo(o[0][0],o[0][1]);for(var r=1;r<o.length;r++)t.lineTo(o[r][0],o[r][1]);t.lineTo(o[0][0],o[0][1]),t.closePath()}}};function xe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}"undefined"!=typeof window&&requestAnimationFrame(function t(e){requestAnimationFrame(t),he.a.update(e)});var ke=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n;r instanceof pe||(r=n.map(function(t,e){return{geometry:{type:"Point",coordinates:[t.lng,t.lat]},count:n[e][o.countField]}}),r=new pe(r)),this.dataSet=r,this.map=e}return function(t,e,n){e&&xe(t.prototype,e)}(t,[{key:"getDefaultContextConfig",value:function(){return{globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!0,strokeStyle:"#000000",fillStyle:"#000000",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,lineDashOffset:0,font:"10px sans-serif",textAlign:"start",textBaseline:"alphabetic"}}},{key:"initDataRange",value:function(t){if(this.intensity=new ve({maxSize:this.options.maxSize,minSize:this.options.minSize,gradient:this.options.gradient,max:this.options.max||this.dataSet.getMax("count")}),this.category=new be(this.options.splitList),this.choropleth=new we(this.options.splitList),void 0===this.options.splitList&&this.category.generateByDataSet(this.dataSet,this.options.color),void 0===this.options.splitList){var e=this.options.min||this.dataSet.getMin("count"),n=this.options.max||this.dataSet.getMax("count");this.choropleth.generateByMinMax(e,n,this.options.gradient)}}},{key:"getLegend",value:function(t){return"intensity"===this.options.draw||"heatmap"===this.options.draw?this.intensity.getLegend(t):"category"===this.options.draw?this.category.getLegend(t):void 0}},{key:"processData",value:function(t){var e=this.options.draw;if("bubble"===e||"intensity"===e||"category"===e||"choropleth"===e||"simple"===e)for(var n=0;n<t.length;n++){var o=t[n];"bubble"===this.options.draw?t[n]._size=this.intensity.getSize(o.count):t[n]._size=void 0;var r="_fillStyle";"LineString"!==t[n].geometry.type&&"stroke"!==this.options.styleType||(r="_strokeStyle"),"intensity"===this.options.draw?t[n][r]=this.intensity.getColor(o.count):"category"===this.options.draw?t[n][r]=this.category.get(o.count):"choropleth"===this.options.draw&&(t[n][r]=this.choropleth.get(o.count))}}},{key:"isEnabledTime",value:function(){var t=this.options.animation;return t&&!(!1===t.enabled)}},{key:"argCheck",value:function(t){"heatmap"===t.draw&&t.strokeStyle&&console.warn("[heatmap] options.strokeStyle is discard, pleause use options.strength [eg: options.strength = 0.1]")}},{key:"drawContext",value:function(t,e,n,o){this.options.offset={x:o.x,y:o.y},function(t,e,n){t.save();var o,r={},i=e instanceof pe?e.get():e,a=n._size||n.size||50,u=n.choropleth,c=n.intensity,s=n.useLocalExtrema,l=n._width||a,f=n._height||a,p=n.offset||{x:0,y:0};"px"===n.unit&&(l=f=a);for(var h=0;h<i.length;h++){var y=i[h].geometry._coordinates||i[h].geometry.coordinates,d=(y[0]-p.x)/l,v=(y[1]-p.y)/f;"m"!==n.unit&&(d=Math.floor(d),v=Math.floor(v));var m=d+","+v;r[m]||(r[m]=0),r[m]+=~~(i[h].count||1)}for(var b in s&&(o=function(t){var e=0,n=0;return Object.keys(t).forEach(function(o,r){var i=t[o];i>e&&(e=i),r>0?i<n&&(n=i):n=t[o]}),{min:n,max:e}}(r),c=new ve({max:o.max,min:o.min,gradient:n.gradient}),u.generateByMinMax(o.min,o.max,n.gradient)),r)b=b.split(","),t.beginPath(),t.rect(b[0]*l+p.x-l/2,b[1]*f+p.y-f/2,l,f),t.fillStyle=c.getColor(r[b]),t.fill(),n.strokeStyle&&n.lineWidth&&t.stroke();if(n.label&&!1!==n.label.show&&(t.fillStyle=n.label.fillStyle||"white",n.label.font&&(t.font=n.label.font),n.label.shadowColor&&(t.shadowColor=n.label.shadowColor),n.label.shadowBlur&&(t.shadowBlur=n.label.shadowBlur),n.showText&&u.getLegend().length))for(var g in r){var O=r[g=g.split(",")],w=c.getTextColor(u.getLegend(),O).value.color;"[object Array]"===Object.prototype.toString.call(w)&&2===w.length&&(t.fillStyle=w[1]);var _=t.measureText(O).width;t.fillText(O,g[0]*l+p.x-_/2,g[1]*f+p.y+5)}t.restore()}(t,e,this.options)}},{key:"isPointInPath",value:function(t,e){this.canvasLayer.canvas.getContext(this.context);for(var n=this.dataSet.get(),o=0;o<n.length;o++){t.beginPath(),Pe.draw(t,n[o],this.options);var r=e.x*this.canvasLayer.devicePixelRatio,i=e.y*this.canvasLayer.devicePixelRatio;if((n[o].geometry&&n[o].geometry.type).indexOf("Polygon")>-1){if(t.isPointInPath(r,i))return n[o]}else if(t.isPointInStroke&&t.isPointInStroke(r,i))return n[o]}}},{key:"clickEvent",value:function(t,e){if(this.options.methods){var n=this.isPointInPath(this.getContext(),t);n?this.options.methods.click(n,e):this.options.methods.click(null,e)}}},{key:"mousemoveEvent",value:function(t,e){if(this.options.methods){var n=this.isPointInPath(this.getContext(),t);n?this.options.methods.mousemove(n,e):this.options.methods.mousemove(null,e)}}},{key:"update",value:function(t,e){var n=t.options,o=this.options;for(var r in n)o[r]=n[r];this.init(o),!1!==e&&this.draw()}},{key:"setOptions",value:function(t){this.dataSet.reset(),this.init(t),this.draw()}},{key:"set",value:function(t){var e=this.getContext(),n=this.getDefaultContextConfig();for(var o in n)e[o]=n[o];this.init(t.options),this.draw()}},{key:"destroy",value:function(){this.unbindEvent(),this.hide()}},{key:"initAnimator",value:function(){var t=this,e=t.options.animation;if("time"===t.options.draw||t.isEnabledTime()){e.stepsRange||(e.stepsRange={start:this.dataSet.getMin("time")||0,end:this.dataSet.getMax("time")||0}),this.steps={step:e.stepsRange.start},t.animator=new he.a.Tween(this.steps).onUpdate(function(){t._canvasUpdate(this.step)}).repeat(1/0),this.addAnimatorEvent();var n=1e3*e.duration||5e3;t.animator.to({step:e.stepsRange.end},n),t.animator.start()}else t.animator&&t.animator.stop()}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var t=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=t.stepsRange.start,this.animator.stop())}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator&&this.animator.start()}}]),t}();function Te(t,e){this.setMap(t),this.options=e||{},this.context=this.options.context||"2d",this.zIndex=this.options.zIndex||0,qq.maps.Overlay.call(this)}var Se="undefined"==typeof window?{}:window;Te.prototype=new qq.maps.Overlay,Te.CSS_TRANSFORM=function(){for(var t=document.createElement("div"),e=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],n=0;n<e.length;n++){var o=e[n];if(void 0!==t.style[o])return o}return e[0]}(),Te.prototype.construct=function(){var t=this,e=q(this.map),n=this.canvas=document.createElement("canvas");n.style.cssText="width: ".concat(e.width,"px;height: ").concat(e.height,"px;position: relative;z-index: ").concat(this.zIndex),this.resize(),this.getPanes().overlayLayer.appendChild(n),qq.maps.event.addListener(this.map,"bounds_changed",function(){t.resize(),t.draw()}),this.constructed=!0},Te.prototype.destory=function(){this.canvas.parentElement.removeChild(this.canvas),this.changeHandler&&(qq.maps.event.removeListener(this.changeHandler),this.changeHandler=null),this.canvas=null},Te.prototype.repositionCanvas=function(){if(this.map){var t=this.map.getBounds(),e=new qq.maps.LatLng(t.getNorthEast().getLat(),t.getSouthWest().getLng()),n=this.getProjection().fromLatLngToDivPixel(e);this.canvas.style[Te.CSS_TRANSFORM]="translate(".concat(Math.round(n.x),"px, ").concat(Math.round(n.y),"px)")}},Te.prototype.draw=function(){this.options.update&&this.options.update.call(this)},Te.prototype.resize=function(){if(this.map&&this.canvas){var t=q(this.map),e=t.width,n=t.height,o=this.canvas,r=this.devicePixelRatio=Se.devicePixelRatio||1;o.width=e*r,o.height=n*r,"2d"===this.context&&o.getContext(this.context).scale(r,r),e===this.width&&n===this.height||(o.style.width="".concat(e,"px"),o.style.height="".concat(n,"px"),this.repositionCanvas())}},Te.prototype.getContainer=function(){return this.canvas},Te.prototype.show=function(){this.canvas.style.display=""},Te.prototype.hide=function(){this.canvas.style.display="none"},Te.prototype.setZIndex=function(t){this.zIndex=t,this.canvas.style.zIndex=this.zIndex},Te.prototype.getZIndex=function(){return this.zIndex};var Ce=Te,je=n(3),Ee=n.n(je);function Me(t){"@babel/helpers - typeof";return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function qe(t,e,n){return(qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=De(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Le(t,e){return(Le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Le(t,e)}(n,ke);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=De(t);if(e){var r=De(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==Me(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,n)}}(n);function n(t,o,r){var i;return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),r=Ee()(!0,{},{gradient:ge,unit:"m",countField:"count",showText:!0,showTextZoomLevel:16,useLocalExtrema:!0},r),(i=e.call(this,t,o,r)).inViewPortCount=0,i.init(r),i._zoom=t.getZoom(),i.options.showText=i._zoom>i.options.showTextZoomLevel,i.canvasLayer=new Ce(t,{context:i.context,paneName:r.paneName,zIndex:r.zIndex,update:function(){return i._canvasUpdate()}}),qq.maps.event.addListener(i.map,"zoom_changed",function(){var t=i.map.getZoom(),e=r.showTextZoomLevel;i.options.showText=t>e}),i}return function(t,e,n){e&&Re(t.prototype,e)}(n,[{key:"clickEvent",value:function(t){var e=t.pixel;qe(De(n.prototype),"clickEvent",this).call(this,e,t)}},{key:"mousemoveEvent",value:function(t){var e=t.pixel;qe(De(n.prototype),"mousemoveEvent",this).call(this,e,t)}},{key:"bindEvent",value:function(t){this.unbindEvent(),this.options.methods&&(this.options.methods.click&&(this.clickMapHandler=qq.maps.event.addListener(this.map,"click",this.clickEvent)),this.options.methods.mousemove&&(this.mouseMoveMapHandler=qq.maps.event.addListener(this.map,"mousemove",this.mousemoveEvent)))}},{key:"unbindEvent",value:function(t){this.options.methods&&(this.options.methods.click&&qq.maps.event.removeListener(this.clickMapHandler),this.options.methods.mousemove&&qq.maps.event.removeListener(this.mouseMoveMapHandler))}},{key:"setData",value:function(t){var e,n=this;e instanceof pe||(e=t.map(function(e,o){return{geometry:{type:"Point",coordinates:[e.lng,e.lat]},count:t[o][n.options.countField]}})),this.dataSet.set(e),this.canvasLayer&&this.canvasLayer.draw()}},{key:"updateOptions",value:function(t){console.log(t),this.options=Ee()(!0,this.options,t),console.log(this.options)}},{key:"getContext",value:function(){return this.canvasLayer.canvas?this.canvasLayer.canvas.getContext(this.context):null}},{key:"_canvasUpdate",value:function(){var t=this.map,e=t.getProjection();if(this.canvasLayer&&e){var n=t.getBounds(),o=new qq.maps.LatLng(n.getNorthEast().getLat(),n.getSouthWest().getLng()),r=t.getZoom(),i=this.getContext(),a=Math.pow(2,17-r),u=this.canvasLayer.getProjection(),c=u.fromLatLngToDivPixel(o),s={fromColumn:"coordinates",filter:function(t){var e=t.geometry.coordinates,o=new qq.maps.LatLng(e[1],e[0]);return n.contains(o)},transferCoordinate:function(t){var e=u.fromLatLngToDivPixel(new qq.maps.LatLng(t[1],t[0])),n={x:e.x-c.x,y:e.y-c.y};return[n.x,n.y]}},l=this.dataSet.get(s);if(l.length){if("2d"===this.context)for(var f in this.options)i[f]=this.options[f];else i.clear(i.COLOR_BUFFER_BIT);this.options.minZoom&&t.getZoom()<this.options.minZoom||this.options.maxZoom&&t.getZoom()>this.options.maxZoom||("m"===this.options.unit?this.options.size&&(this.options._size=this.options.size/a,this.options._height=this.options.height/a,this.options._width=this.options.width/a):(this.options._size=this.options.size,this.options._height=this.options.height,this.options._width=this.options.width),this.options.zoom=r,L(i),this.drawContext(i,l,this.options,{x:c.x,y:c.y}))}}}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.options.choropleth=this.choropleth,this.options.category=this.category,this.options.intensity=this.intensity,this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.options.max&&this.intensity.setMax(this.options.max),this.options.min&&this.intensity.setMin(this.options.min),this.bindEvent()}},{key:"addAnimatorEvent",value:function(){qq.maps.event.addListener(this.map,"movestart",this.animatorMovestartEvent.bind(this)),qq.maps.event.addListener(this.map,"moveend",this.animatorMoveendEvent.bind(this))}}]),n}();function ze(t){"@babel/helpers - typeof";return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(){return(Ae=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function Ne(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Be(t,e){return(Be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Be(t,e)}(n,a.a.Component);var e=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=He(t);if(e){var r=He(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){return!e||"object"!==ze(e)&&"function"!=typeof e?Fe(t):e}(this,n)}}(n);function n(t){var o;return function(t,e){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),Ue(Fe(o=e.call(this,t)),"initialize",function(){var t=o.props.map;t&&(o.canvasLayer=new Ce(t,{update:o.handleUpdate}))}),Ue(Fe(o),"bindEvent",function(){var t=o.props.map;qq.maps.event.addListener(t,"bounds_changed",o.proxyEvent(o.handleBoundsChanged)),qq.maps.event.addListener(t,"click",o.proxyEvent(o.handleClick)),qq.maps.event.addListener(t,"dblclick",o.proxyEvent(o.handleDoubleClick)),qq.maps.event.addListener(t,"mousemove",o.proxyEvent(o.handleMouseMove)),qq.maps.event.addListener(t,"rightclick",o.proxyEvent(o.handleDoubleClick))}),Ue(Fe(o),"proxyEvent",function(t){return function(){return o.props.editable&&t(),!1}}),Ue(Fe(o),"handleBoundsChanged",function(){var t=o.props.onBoundsChanged;t&&t()}),Ue(Fe(o),"handleClick",function(){var t=o.props.onClick;t&&t()}),Ue(Fe(o),"handleDoubleClick",function(){var t=o.props.onCompleted;t&&t()}),Ue(Fe(o),"handleMouseMove",function(){var t=o.props.onMouseMove;t&&t()}),Ue(Fe(o),"handleClear",function(){var t=o.props.onClear;t&&t()}),Ue(Fe(o),"handleDelete",function(){var t=o.props.onDelete;t&&t()}),Ue(Fe(o),"handleUpdate",function(){}),o.state={results:[]},o}return function(t,e,n){e&&Ne(t.prototype,e)}(n,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"render",value:function(){var t=this,e=this.state.results;return a.a.createElement("div",{className:"ruler-container"},e.map(function(e,n){var o=e.dots;return a.a.createElement(a.a.Fragment,null,o.map(function(e,n){var o=e.lat,r=e.lng;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Bt,Ae({center:{lat:o,lng:r}},t.circleOptions)))}))}))}},{key:"circleOptions",get:function(){var t=this.props,e=t.dotStrokeColor,n=t.dotStrokeDashStyle;return{strokeColor:e,strokeWeight:t.dotStrokeWeight,radius:t.dotRadius,strokeDashStyle:n}}},{key:"overlayOptions",get:function(){return{offset:this.props.tipsOffset,style:{border:"1px solid #000",boxShadow:"2px 2px 4px 2px rgba(0, 0, 0, 0.2)"}}}}]),n}();Ue(Ge,"defaultProps",{editable:!1,tipsOffset:{x:30,y:0},dotStrokeColor:"red",dotRadius:10,dotStrokeDashStyle:"solid",dotStrokeWeight:"1",dotFillColor:"#fff",lineStrokeColor:"red",lineStrokeDashStyle:"solid",lineStrokeWeight:"1",onClick:function(){},onCompleted:function(){},onDelete:function(){},onClear:function(){},onBoundsChanged:function(){},onMouseMove:function(){}}),n.d(e,"QMap",function(){return G}),n.d(e,"HeatMap",function(){return X}),n.d(e,"Marker",function(){return ft}),n.d(e,"MarkerList",function(){return xt}),n.d(e,"Info",function(){return qt}),n.d(e,"Polyline",function(){return Jt}),n.d(e,"utils",function(){return o}),n.d(e,"config",function(){return r}),n.d(e,"Polygon",function(){return te}),n.d(e,"Circle",function(){return Bt}),n.d(e,"Control",function(){return ue}),n.d(e,"GridHeatmap",function(){return Ie}),n.d(e,"ControlPosition",function(){return ce}),n.d(e,"Ruler",function(){return Ge})}])});