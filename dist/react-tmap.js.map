{"version":3,"sources":["webpack://react-tmap/webpack/universalModuleDefinition","webpack://react-tmap/webpack/bootstrap","webpack://react-tmap/./node_modules/extend/index.js","webpack://react-tmap/./node_modules/object-assign/index.js","webpack://react-tmap/./node_modules/process/browser.js","webpack://react-tmap/./node_modules/prop-types/checkPropTypes.js","webpack://react-tmap/./node_modules/prop-types/factoryWithTypeCheckers.js","webpack://react-tmap/./node_modules/prop-types/index.js","webpack://react-tmap/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://react-tmap/./src/BaseComponent.js","webpack://react-tmap/./src/Circle.js","webpack://react-tmap/./src/Control.js","webpack://react-tmap/./src/ControlPosition.js","webpack://react-tmap/./src/Graphy.js","webpack://react-tmap/./src/HeatMap.js","webpack://react-tmap/./src/Info.js","webpack://react-tmap/./src/Marker.js","webpack://react-tmap/./src/MarkerList.js","webpack://react-tmap/./src/Polygon.js","webpack://react-tmap/./src/Polyline.js","webpack://react-tmap/./src/QMap.js","webpack://react-tmap/./src/canvas/path/simple.js","webpack://react-tmap/./src/canvas/shape/honeycomb.js","webpack://react-tmap/./src/config/index.js","webpack://react-tmap/./src/constants.js","webpack://react-tmap/./src/data/DataSet.js","webpack://react-tmap/./src/index.js","webpack://react-tmap/./src/plugins/CanvasLayer.js","webpack://react-tmap/./src/plugins/gird-heatmap/BaseLayer.js","webpack://react-tmap/./src/plugins/gird-heatmap/index.js","webpack://react-tmap/./src/plugins/index.js","webpack://react-tmap/./src/plugins/ruler/index.js","webpack://react-tmap/./src/utils/Canvas.js","webpack://react-tmap/./src/utils/Event.js","webpack://react-tmap/./src/utils/Tween.js","webpack://react-tmap/./src/utils/data-range/Category.js","webpack://react-tmap/./src/utils/data-range/Choropleth.js","webpack://react-tmap/./src/utils/data-range/Intensity.js","webpack://react-tmap/./src/utils/grid.js","webpack://react-tmap/./src/utils/index.js","webpack://react-tmap/external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}"],"names":["BaseComponent","obj","events","self","length","forEach","event","Object","prototype","toString","call","eventName","qq","maps","addListenerOnce","mouseEvent","props","addListener","toggleMethods","key","undefined","opts","result","Component","Circle","center","options","getOptions","map","visible","_options","_getOptions","circle","setMap","radius","shape","lat","number","lng","isRequired","Control","control","getControl","controlNode","initialize","position","mapControls","controls","push","index","oneOf","TOP_LEFT","ControlPosition","TOP_CENTER","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT","LEFT_TOP","LEFT_CENTER","LEFT_BOTTOM","RIGHT_TOP","RIGHT_CENTER","RIGHT_BOTTOM","CENTER","Graphy","destroy","overlay","getOverlay","bindEvent","prevProps","receiveProps","curOptions","fnName","HeatMap","heatData","heatMap","QQMapPlugin","HeatmapOverlay","setData","initHeatMap","data","maxOpacity","useLocalExtrema","valueField","max","object","arrayOf","Info","latLng","info","InfoWindow","infoContent","content","setPosition","setContent","open","close","initInfo","bool","any","Marker","decoration","icon","color","MarkerDecoration","Point","MarkerImage","marker","MarkerList","showDecoration","rest","item","i","animation","Polygon","points","path","polygon","setPath","setPoints","Polyline","polyline","QQMap","Map","mapNode","render","children","Children","child","cloneElement","initMap","forceUpdate","zoom","curCenter","zoomTo","panTo","style","node","className","height","width","renderChildren","onRender","drawDataSet","context","dataSet","get","len","draw","type","geometry","coordinates","_coordinates","symbol","size","_size","bigData","moveTo","arc","Math","PI","rect","drawHoneycomb","j","x","y","lineTo","drawPolygon","multiPolygonDraw","console","log","beginPath","coordinate","closePath","hex_corner","angle_deg","angle_rad","cos","sin","gradient","ANIMATION_DROP","MarkerAnimation","DROP","ANIMATION_BOUNCE","BOUNCE","ANIMATION_DOWN","DOWN","ANIMATION_UP","UP","DataSet","Event","bind","_data","add","senderId","Array","isArray","time","substr","Date","getTime","Error","_dataCache","JSON","parse","stringify","reset","args","start","filter","newData","transferCoordinate","fromColumn","toColumn","set","_set","_trigger","clear","remove","update","cbk","condition","flag","transferFn","toColumnName","newCoordinates","getPolygon","c","newcoordinate","initGeometry","getMax","columnName","parseFloat","value","getSum","sum","getMin","min","getUnique","deepCopy","newObj","HTMLElement","CanvasLayer","zIndex","Overlay","global","window","CSS_TRANSFORM","div","document","createElement","prop","construct","mapSize","canvas","cssText","resize","getPanes","overlayLayer","appendChild","constructed","destory","parentElement","removeChild","changeHandler","removeListener","repositionCanvas","bounds","getBounds","topLeft","LatLng","getNorthEast","getLat","getSouthWest","getLng","projection","getProjection","offset","fromLatLngToDivPixel","round","devicePixelRatio","getContext","scale","getContainer","show","display","hide","setZIndex","getZIndex","requestAnimationFrame","animate","TWEEN","BaseLayer","_dataSet","point","count","countField","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","strokeStyle","fillStyle","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","lineWidth","lineCap","lineJoin","miterLimit","lineDashOffset","font","textAlign","textBaseline","intensity","maxSize","minSize","category","splitList","choropleth","generateByDataSet","generateByMinMax","getLegend","getSize","styleType","getColor","animationOptions","enabled","warn","nwPixel","drawGrid","pixel","canvasLayer","pathSimple","geoType","indexOf","isPointInPath","isPointInStroke","e","methods","dataItem","click","mousemove","isDraw","init","ctx","conf","getDefaultContextConfig","unbindEvent","isEnabledTime","stepsRange","end","steps","step","animator","Tween","onUpdate","_canvasUpdate","repeat","Infinity","addAnimatorEvent","duration","to","stop","GridHeatmap","unit","showText","showTextZoomLevel","inViewPortCount","_zoom","getZoom","paneName","clickMapHandler","clickEvent","mouseMoveMapHandler","mousemoveEvent","zoomUnit","pow","layerProjection","layerOffset","dataGetOptions","contains","COLOR_BUFFER_BIT","minZoom","maxZoom","_height","_width","drawContext","initDataRange","setMax","setMin","animatorMovestartEvent","animatorMoveendEvent","Ruler","handleUpdate","proxyEvent","handleBoundsChanged","handleClick","handleDoubleClick","handleMouseMove","fn","editable","onBoundsChanged","onClick","onCompleted","onMouseMove","onClear","onDelete","state","results","dots","dot","circleOptions","strokeColor","dotStrokeColor","strokeDashStyle","dotStrokeDashStyle","strokeWeight","dotStrokeWeight","dotRadius","tipsOffset","border","boxShadow","dotFillColor","lineStrokeColor","lineStrokeDashStyle","lineStrokeWeight","Canvas","_subscribers","on","callback","subscribers","off","splice","params","concat","subscriber","_tweens","getAll","removeAll","tween","preserve","now","process","hrtime","performance","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_isPlaying","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onCompleteCallback","_onStopCallback","properties","property","stopChainedTweens","numChainedTweens","delay","amount","times","repeatDelay","yoyo","easing","interpolation","chain","arguments","onStart","onComplete","onStop","elapsed","charAt","isFinite","tmp","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","sqrt","Elastic","Back","s","Bounce","v","m","f","floor","Utils","Bezier","b","n","pw","bn","Bernstein","CatmullRom","p0","p1","t","fc","Factorial","a","p2","p3","v0","v1","t2","t3","Category","other","colors","container","html","innerHTML","Choropleth","splitNum","Number","ceil","Intensity","initPalette","setMaxSize","setMinSize","paletteCtx","lineGradient","createLinearGradient","stopColor","addColorStop","fillRect","imageData","getImageData","getTextColor","find","split","getMaxAndMinCountByGrids","grids","keys","save","xScale","yScale","coordX","coordY","gridKey","curMaxAndMin","fill","stroke","label","text","textWidth","measureText","fillText","restore","getAddressByPosition","getAddressByLatLng","pointToLatLng","getPositionByAddress","address","getLatLngByAddress","Promise","resolve","geocoder","Geocoder","complete","getLocation","getAddress","convertorPointsToPath","toPascal","str","toUpperCase","crossMul","v2","isCrossingLine","p4","v3","hasNoneCrossingLinePolygonal","lines","getPointsLines","some","line","targetLines","_","ti","abs","targetLine","p","isCrossingPolygonal","points1","points2","lineList1","lineList2","l1","l2","getCrossingPolygonal","list","groupList","crossingList","polygonal","Area","area","getPolygonAreaCenter","sumX","sumY","sumArea","getMapSize","mapContainer","clientWidth","clientHeight","clearRect","toFixedNumber","fomatFloat","calc","rs"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,YAAY;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,2BAA2B,kDAAkD;;AAE7E;AACA,MAAM;AACN,2BAA2B,6BAA6B;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACpHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACzFA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;;ACvLtC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;AC1FA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,6BAA6B;AAC7B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;AC1iBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,QAID;;;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","file":"react-tmap.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-tmap\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"react-tmap\"] = factory(root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_react__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          )\n\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/* global qq */\nimport React from 'react'\n\nexport default class BaseComponent extends React.Component {\n  /**\n   * 给某个对象绑定对应需要的事件\n   * @param {element} obj 事件对象\n   * @param {array} events 事件数组\n   */\n  bindEvent = (obj, events) => {\n    const self = this\n    if (events.length) {\n      events.forEach(event => {\n        if (Object.prototype.toString.call(event) === '[object Array]' && event[1]) {\n          // 绑定一次事件\n          const eventName = event[0]\n          qq.maps.event.addListenerOnce(obj, eventName, mouseEvent => {\n            self.props.events && self.props.events[eventName] && self.props.events[eventName].call(self, obj, mouseEvent)\n          })\n        } else {\n          qq.maps.event.addListener(obj, event, mouseEvent => {\n            self.props.events && self.props.events[event] && self.props.events[event].call(self, obj, mouseEvent)\n          })\n        }\n      })\n    }\n  }\n\n  /**\n   * 给某个对象绑定需要切换的属性对应的方法\n   * @param {element} obj 事件对象\n   * @param {object} toggleMethods 属性和对应的2个切换方法\n   */\n  bindToggleMeghods = (obj, toggleMethods) => {\n    for (let key in toggleMethods) {\n      if (this.props[key] !== undefined) {\n        if (this.props[key]) {\n          obj[toggleMethods[key][0]]()\n        } else {\n          obj[toggleMethods[key][1]]()\n        }\n      }\n    }\n  }\n\n  /**\n   * 返回组件支持的属性对象\n   * @param {array} opts 组件各自支持的属性对象集合\n   */\n  getOptions = (opts) => {\n    let result = {}\n    opts.forEach(key => {\n      if (this.props[key] !== undefined) {\n        result[key] = this.props[key]\n      }\n    })\n    return result\n  }\n\n  render () {\n    return null\n  }\n}\n","/* global qq */\nimport Graphy from './Graphy'\nimport PropTypes from 'prop-types'\nimport { pointToLatLng } from './utils'\n\nexport default class Circle extends Graphy {\n  static defaultProps = {\n    center: {},\n    radius: 10,\n    visible: true\n  }\n\n  static propTypes = {\n    center: PropTypes.shape({\n      lat: PropTypes.number,\n      lng: PropTypes.number\n    }).isRequired,\n    radius: PropTypes.number.isRequired\n  }\n\n  get events () {\n    return [\n      'center_changed',\n      'map_changed',\n      'radius_changed',\n      'visible_changed',\n      'zindex_changed',\n      'click',\n      'dblclick',\n      'rightclick',\n      'mousedown',\n      'mouseup',\n      'mouseover',\n      'mouseout',\n      'mousemove'\n    ]\n  }\n\n  get options () {\n    return [\n      'center',\n      'clickable',\n      'cursor',\n      'fillColor',\n      'map',\n      'radius',\n      'strokeColor',\n      'strokeDashStyle',\n      'strokeWeight',\n      'visible',\n      'zIndex'\n    ]\n  }\n\n  _getOptions = () => {\n    const { center } = this.props\n    const options = this.getOptions(this.options)\n    options.center = pointToLatLng(center)\n    return options\n  }\n\n  getOverlay = () => {\n    const { map, visible } = this.props\n    const _options = this._getOptions()\n    if (!map) return\n    if (this.circle) this.circle.setMap(null)\n    this.circle = new qq.maps.Circle(_options)\n\n    visible ? this.circle.setMap(map) : this.circle.setMap(null)\n    return this.circle\n  }\n}\n","import BaseComponent from './BaseComponent'\nimport PropTypes from 'prop-types'\nimport { ControlPosition } from './constants'\n\nexport default class Control extends BaseComponent {\n  constructor (props) {\n    super(props)\n    this.controlNode = undefined\n  }\n  static propTypes = {\n    position: PropTypes.oneOf(ControlPosition)\n  }\n\n  componentDidMount () {\n    this.initialize()\n  }\n\n  initialize = () => {\n    const { map } = this.props\n    if (!map) return\n    this.control = this.getControl()\n  }\n\n  getControl () {\n    const { map, position } = this.props\n    if (!map || !this.controlNode) return\n    const mapControls = map.controls[position]\n    mapControls.push(this.controlNode)\n    this.control = this.controlNode\n    this.control.index = mapControls.length\n    return this.control\n  }\n}\n","/* global qq */\nexport default {\n  TOP_LEFT: qq.maps.ControlPosition.TOP_LEFT, // 相对左上角对齐，向右排列。\n  TOP_CENTER: qq.maps.ControlPosition.TOP_CENTER, // 相对上方中间位置对齐。\n  TOP_RIGHT: qq.maps.ControlPosition.TOP_RIGHT, // 相对右上角对齐，向左排列。\n  BOTTOM_LEFT: qq.maps.ControlPosition.BOTTOM_LEFT, // 相对左下角对齐，向右排列。\n  BOTTOM_CENTER: qq.maps.ControlPosition.BOTTOM_CENTER, // 相对下方中间位置对齐。\n  BOTTOM_RIGHT: qq.maps.ControlPosition.BOTTOM_RIGHT, // 相对右下角对齐，向左排列。\n  LEFT_TOP: qq.maps.ControlPosition.LEFT_TOP, // 相对左上角对齐，向下排列。\n  LEFT_CENTER: qq.maps.ControlPosition.LEFT_CENTER, // 相对左方中间位置对齐。\n  LEFT_BOTTOM: qq.maps.ControlPosition.LEFT_BOTTOM, // 相对左下角对齐，向上排列。\n  RIGHT_TOP: qq.maps.ControlPosition.RIGHT_TOP, // 相对右上角对齐，向下排列。\n  RIGHT_CENTER: qq.maps.ControlPosition.RIGHT_CENTER, // 相对右方中间位置对齐。\n  RIGHT_BOTTOM: qq.maps.ControlPosition.RIGHT_BOTTOM, // 相对右下角对齐，向上排列。\n  CENTER: qq.maps.ControlPosition.CENTER // 中间位置对齐。\n}\n","import BaseComponent from './BaseComponent'\nimport { toPascal } from './utils'\n\nexport default class Graphy extends BaseComponent {\n  componentDidMount () {\n    this.initialize()\n  }\n\n  componentWillUnmount () {\n    this.destroy()\n  }\n\n  componentDidUpdate (prevProps) {\n    const receiveProps = this.options || []\n    const curOptions = this._getOptions()\n    if (!this.overlay) return\n    receiveProps.forEach(key => {\n      const fnName = `set${toPascal(key)}`\n      // 判断前后属性和 set 方法是否存在，如果存在，则执行对应的更新\n      if (this.props[key] !== prevProps[key] && !!this.overlay[fnName]) {\n        this.overlay[fnName](curOptions[key])\n      }\n    })\n  }\n\n  destroy () {\n    // 将当前覆盖物移出地图\n    if (this.overlay) {\n      this.overlay.setMap(null)\n      this.overlay = null\n    }\n  }\n\n  initialize = () => {\n    const { map } = this.props\n    if (!map) return\n    this.destroy()\n    // getOverlay 由子类具体实现\n    this.overlay = this.getOverlay()\n    if (this.overlay) this.bindEvent(this.overlay, this.events)\n  }\n\n  // 子类特殊构造 options 方法，可以做一些自定义的转化\n  _getOptions = () => {\n    return {}\n  }\n\n  getOverlay () {\n    return null\n  }\n\n  render () {\n    return null\n  }\n}\n","/* global qq, QQMapPlugin */\nimport React from 'react'\nimport PropTypes from 'prop-types'\n\nexport default class HeatMap extends React.Component {\n  static defaultProps = {\n    options: {\n      radius: 1,\n      maxOpacity: 0.8,\n      useLocalExtrema: true,\n      valueField: 'count'\n    },\n    heatData: {\n      max: 100,\n      data: []\n    }\n  }\n\n  static propTypes = {\n    options: PropTypes.object,\n    heatData: PropTypes.shape({\n      max: PropTypes.number,\n      data: PropTypes.arrayOf(PropTypes.object)\n    })\n  }\n\n  componentDidMount () {\n    this.initHeatMap()\n  }\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.heatData.data !== this.props.heatData.data && this.heatMap) {\n      this.heatMap.setData(this.props.heatData)\n    }\n  }\n\n  initHeatMap = () => {\n    const { options, heatData, map } = this.props\n    if (!map) return\n    qq.maps.event.addListenerOnce(map, 'idle', () => {\n      this.heatMap = new QQMapPlugin.HeatmapOverlay(map, options)\n      this.heatMap.setData(heatData)\n    })\n  }\n\n  render () {\n    return null\n  }\n}\n","/* global qq */\nimport PropTypes from 'prop-types'\nimport BaseComponent from './BaseComponent'\nimport { pointToLatLng } from './utils'\n\nexport default class Info extends BaseComponent {\n  static defaultProps = {\n    visible: false,\n    position: {},\n    content: '测试'\n  }\n\n  static propTypes = {\n    visible: PropTypes.bool,\n    position: PropTypes.shape({\n      lat: PropTypes.number,\n      lng: PropTypes.number\n    }),\n    content: PropTypes.any\n  }\n\n  get events () {\n    return ['content_changed', 'position_changed', 'zindex_changed', 'domready', 'closeclick']\n  }\n\n  get options () {\n    return ['content', 'position', 'zIndex', 'visible']\n  }\n\n  componentDidMount () {\n    this.initInfo()\n  }\n\n  componentDidUpdate () {\n    this.initInfo()\n  }\n\n  initInfo = () => {\n    const {\n      map,\n      visible,\n      position: { lat, lng }\n    } = this.props\n    const latLng = pointToLatLng({lat, lng})\n    const options = this.getOptions(this.options)\n    options.position = latLng\n    if (!map) return\n    if (!this.info) {\n      this.info = new qq.maps.InfoWindow({\n        ...options,\n        map: map\n      })\n      this.bindEvent(this.info, this.events)\n    }\n    let infoContent = `<div style=\"width: 100%;max-width: 300px;text-align:left;\">${options.content}</div>`\n    this.info.setPosition(latLng)\n    this.info.setContent(infoContent)\n    visible ? this.info.open() : this.info.close()\n  }\n\n  render () {\n    return null\n  }\n}\n","/* global qq */\nimport PropTypes from 'prop-types'\nimport { pointToLatLng } from './utils'\nimport Graphy from './Graphy'\n\nexport default class Marker extends Graphy {\n  static defaultProps = {\n    decoration: null,\n    visible: true,\n    color: '#fff'\n  }\n\n  static propTypes = {\n    position: PropTypes.shape({\n      lat: PropTypes.number,\n      lng: PropTypes.number\n    })\n  }\n\n  get events () {\n    return [\n      'animation_changed',\n      'clickable_changed',\n      'cursor_changed',\n      'draggable_changed',\n      'flat_changed',\n      'icon_changed',\n      'map_changed',\n      'position_changed',\n      'shadow_changed',\n      'shape_changed',\n      'title_changed',\n      'visible_changed',\n      'zindex_changed',\n      'click',\n      'mousedown',\n      'mouseup',\n      'mouseover',\n      'mouseout',\n      'dblclick',\n      'rightclick',\n      'dragstart',\n      'dragging',\n      'dragend',\n      'moving',\n      'moveend'\n    ]\n  }\n\n  get options () {\n    return [\n      'animation',\n      'clickable',\n      'draggable',\n      'flat',\n      'cursor',\n      'icon',\n      'size',\n      'shadow',\n      'shape',\n      'title',\n      'visible',\n      'zIndex',\n      'map',\n      'color',\n      'position',\n      'rotation',\n      'autoRotation',\n      'decoration'\n    ]\n  }\n\n  _getOptions = () => {\n    const { decoration, icon, color } = this.props\n    const options = this.getOptions(this.options)\n    options.position = pointToLatLng(options.position)\n    if (decoration) {\n      options.decoration = new qq.maps.MarkerDecoration(`<div style=\"color: ${color}\"><span class=\"content\">${decoration}</span></div>`, new qq.maps.Point(0, -5))\n    }\n\n    if (icon && !(icon instanceof qq.maps.MarkerImage)) {\n      options.icon = new qq.maps.MarkerImage(icon)\n    }\n\n    return options\n  }\n\n  getOverlay = () => {\n    const { map, visible } = this.props\n    if (!map) return null\n    // 记录副本\n    const _options = this._getOptions()\n    if (!this.marker) {\n      this.marker = new qq.maps.Marker(_options)\n    }\n\n    visible ? this.marker.setMap(map) : this.marker.setMap(null)\n    return this.marker\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Marker from './Marker'\nimport { ANIMATION_DROP } from './constants'\n\nexport default class MarkerList extends React.Component {\n  static defaultProps = {\n    data: [],\n    animation: ANIMATION_DROP,\n    showDecoration: true\n  }\n\n  static propTypes = {\n    data: PropTypes.arrayOf(\n      PropTypes.shape({\n        lat: PropTypes.number,\n        lng: PropTypes.number\n      })\n    )\n  }\n\n  render () {\n    const { data, showDecoration, ...rest } = this.props\n    return data.map((item, i) => {\n      const options = {...rest}\n      options.position = item\n      if (showDecoration) {\n        options.decoration = item.decoration ? item.decoration : (i + 1)\n      }\n      return <Marker key={i} {...options} />\n    })\n  }\n}\n","/* global qq */\nimport PropTypes from 'prop-types'\nimport { convertorPointsToPath } from './utils'\nimport Graphy from './Graphy'\n\nexport default class Polygon extends Graphy {\n  static defaultProps = {\n    points: [],\n    visible: true\n  }\n\n  static propTypes = {\n    points: PropTypes.arrayOf(\n      PropTypes.shape({\n        lat: PropTypes.number,\n        lng: PropTypes.number\n      })\n    ),\n    visible: PropTypes.bool\n  }\n\n  get events () {\n    return [\n      'map_changed',\n      'visible_changed',\n      'zindex_changed',\n      'click',\n      'dblclick',\n      'rightclick',\n      'mousedown',\n      'mouseup',\n      'mouseover',\n      'mouseout',\n      'mousemove',\n      'insertNode',\n      'removeNode',\n      'adjustNode'\n    ]\n  }\n\n  get options () {\n    return [\n      'clickable',\n      'cursor',\n      'editable',\n      'fillColor',\n      'map',\n      'path',\n      'points',\n      'strokeColor',\n      'strokeDashStyle',\n      'strokeWeight',\n      'visible',\n      'zIndex',\n      'draggable'\n    ]\n  }\n\n  setPoints = (points) => {\n    const path = convertorPointsToPath(points)\n    if (!this.polygon) return\n    this.polygon.setPath(path)\n  }\n\n  _getOptions = () => {\n    const { points } = this.props\n    const path = convertorPointsToPath(points)\n    const options = this.getOptions(this.options)\n    options.path = path\n    return options\n  }\n\n  getOverlay = () => {\n    const { visible, map } = this.props\n    const options = this._getOptions()\n    if (!map) return\n    if (!this.polygon) {\n      this.polygon = new qq.maps.Polygon(options)\n      // 特殊处理额外自定义的事件\n      this.polygon.setPoints = this.setPoints\n    }\n    visible ? this.polygon.setMap(map) : this.polygon.setMap(null)\n    return this.polygon\n  }\n  render () {\n    return null\n  }\n}\n","/* global qq */\nimport PropTypes from 'prop-types'\nimport { convertorPointsToPath } from './utils'\nimport Graphy from './Graphy'\n\nexport default class Polyline extends Graphy {\n  static defaultProps = {\n    points: [],\n    visible: false\n  }\n\n  static propTypes = {\n    points: PropTypes.arrayOf(\n      PropTypes.shape({\n        lat: PropTypes.number,\n        lng: PropTypes.number\n      })\n    ),\n    visible: PropTypes.bool\n  }\n\n  get events () {\n    return [\n      'map_changed',\n      'visible_changed',\n      'zindex_changed',\n      'click',\n      'dblclick',\n      'rightclick',\n      'mousedown',\n      'mouseup',\n      'mouseover',\n      'mouseout',\n      'mousemove',\n      'insertNode',\n      'removeNode',\n      'adjustNode'\n    ]\n  }\n\n  get options () {\n    return [\n      'clickable',\n      'cursor',\n      'editable',\n      'map',\n      'path',\n      'points',\n      'strokeColor',\n      'strokeDashStyle',\n      'strokeWeight',\n      'visible',\n      'zIndex'\n    ]\n  }\n\n  setPoints = (points) => {\n    const path = convertorPointsToPath(points)\n    if (!this.polyline) return\n    this.polyline.setPath(path)\n  }\n\n  _getOptions = () => {\n    const { points } = this.props\n    const path = convertorPointsToPath(points)\n    const options = this.getOptions(this.options)\n    options.path = path\n    return options\n  }\n\n  getOverlay = () => {\n    const { visible, map } = this.props\n    const options = this._getOptions()\n    if (!map) return\n    if (!this.polyline) {\n      this.polyline = new qq.maps.Polyline(options)\n      this.polyline.setPoints = this.setPoints\n    }\n    visible ? this.polyline.setMap(map) : this.polyline.setMap(null)\n    return this.polyline\n  }\n\n  render () {\n    return null\n  }\n}\n","/* global qq */\nimport React from 'react'\nimport BaseComponent from './BaseComponent'\nimport PropTypes from 'prop-types'\nimport { pointToLatLng } from './utils'\n\nclass QQMap extends BaseComponent {\n  static defaultProps = {\n    style: {\n      height: '600px'\n    }\n  }\n\n  static propTypes = {\n    center: PropTypes.shape({\n      lat: PropTypes.number,\n      lng: PropTypes.number\n    })\n  }\n\n  get events () {\n    return [\n      'click',\n      'dblclick',\n      'rightclick',\n      'mouseover',\n      'mouseout',\n      'mousemove',\n      'drag',\n      'dragstart',\n      'dragend',\n      'longpress',\n      'bounds_changed',\n      'center_changed',\n      'zoom_changed',\n      'maptypeid_changed',\n      'projection_changed',\n      ['idle', true],\n      'tilesloaded',\n      'resize'\n    ]\n  }\n\n  get options () {\n    return [\n      'center',\n      'zoom',\n      'minZoom',\n      'maxZoom',\n      'mapZoomType',\n      'noClear',\n      'backgroundColor',\n      'boundary',\n      'draggableCursor',\n      'mapTypeId',\n      'draggable',\n      'scrollwheel',\n      'disableDoubleClickZoom',\n      'keyboardShortcuts',\n      'mapTypeControl',\n      'mapTypeControlOptions',\n      'panControl',\n      'panControlOptions',\n      'zoomControl',\n      'zoomControlOptions',\n      'scaleControl',\n      'scaleControlOptions'\n    ]\n  }\n\n  componentDidMount () {\n    this.initMap()\n    this.forceUpdate()\n  }\n\n  componentWillUnmount () {\n    this.map = null\n  }\n\n  componentDidUpdate (prevProps) {\n    const { center, zoom } = prevProps\n    const curCenter = pointToLatLng(this.props.center)\n    if (zoom !== this.props.zoom) {\n      this.map.zoomTo(this.props.zoom)\n    }\n\n    if (center !== this.props.center) {\n      this.map.panTo(curCenter)\n    }\n  }\n\n  initMap = () => {\n    const options = this.getOptions(this.options)\n    options.center = pointToLatLng(options.center)\n    this.map = new qq.maps.Map(this.mapNode, options)\n    this.bindEvent(this.map, this.events)\n  }\n\n  onRender = () => {\n    if (!this.props.render || !this.map) {\n      return\n    }\n\n    return this.props.render(this.map)\n  }\n\n  renderChildren = () => {\n    const { children } = this.props\n    if (!children || !this.map) return\n    return React.Children.map(children, child => {\n      if (!child) return\n      if (typeof child === 'string') return child\n      return React.cloneElement(child, {\n        map: this.map\n      })\n    })\n  }\n\n  render () {\n    const { style } = this.props\n    return (\n      <div className='qmap-container' style={style}>\n        <div ref={node => (this.mapNode = node)} className={this.props.className} style={{height: '100%', width: '100%'}}>\n          加载地图中...\n          {this.renderChildren()}\n          {this.onRender()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default QQMap\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport DataSet from \"../../data/DataSet\";\nimport {draw as drawHoneycomb} from \"../shape/honeycomb\";\n\nexport default {\n    drawDataSet: function (context, dataSet, options) {\n\n        var data = dataSet instanceof DataSet ? dataSet.get() : dataSet;\n\n        for (var i = 0, len = data.length; i < len; i++) {\n            var item = data[i];\n            this.draw(context, item, options);\n        }\n\n    },\n    draw: function (context, data, options) {\n        var type = data.geometry.type;\n        var coordinates = data.geometry._coordinates || data.geometry.coordinates;\n        var symbol = options.symbol || 'circle';\n        switch (type) {\n            case 'Point':\n                var size = data._size || data.size || options._size || options.size || 5;\n                if (symbol === 'circle') {\n                    if (options.bigData === 'Point') {\n                        context.moveTo(coordinates[0], coordinates[1]);\n                    }\n                    context.arc(coordinates[0], coordinates[1], size, 0, Math.PI * 2);\n                } else if (symbol === 'rect') {\n                    context.rect(coordinates[0] - size / 2, coordinates[1] - size / 2, size, size);\n                } else if (symbol === 'honeycomb') {\n                    drawHoneycomb(context, coordinates[0], coordinates[1], size);\n                }\n                break;\n            case 'LineString':\n                for (var j = 0; j < coordinates.length; j++) {\n                    var x = coordinates[j][0];\n                    var y = coordinates[j][1];\n                    if (j == 0) {\n                        context.moveTo(x, y);\n                    } else {\n                        context.lineTo(x, y);\n                    }\n                }\n                break;\n            case 'Polygon':\n                this.drawPolygon(context, coordinates);\n                break;\n            case 'MultiPolygon':\n                for (var i = 0; i < coordinates.length; i++) {\n                    var polygon = coordinates[i];\n                    this.drawPolygon(context, polygon);\n                    if (options.multiPolygonDraw) {\n                        options.multiPolygonDraw();\n                    }\n                }\n                break;\n            default:\n                console.log('type' + type + 'is not support now!');\n                break;\n        }\n    },\n\n    drawPolygon: function(context, coordinates) {\n        context.beginPath();\n\n        for (var i = 0; i < coordinates.length; i++) {\n            var coordinate = coordinates[i];\n\n            context.moveTo(coordinate[0][0], coordinate[0][1]);\n            for (var j = 1; j < coordinate.length; j++) {\n                context.lineTo(coordinate[j][0], coordinate[j][1]);\n            }\n            context.lineTo(coordinate[0][0], coordinate[0][1]);\n            context.closePath();\n        }\n\n    }\n\n}\n","function hex_corner(center, size, i) {\n    var angle_deg = 60 * i + 30;\n    var angle_rad = Math.PI / 180 * angle_deg;\n    return [center.x + size * Math.cos(angle_rad), center.y + size * Math.sin(angle_rad)];\n}\n\nfunction draw(context, x, y, size) {\n\n    for (var j = 0; j < 6; j++) {\n\n        var result = hex_corner({\n            x: x,\n            y: y\n        }, size, j);\n\n        context.lineTo(result[0], result[1]);\n    }\n\n}\n\nexport {draw};\n","const gradient = [{\n  key: 0.1,\n  color: ['#cbe6ff', '#0e3ca1']\n}, {\n  key: 0.2,\n  color: ['#add7ff', '#0e3ca1']\n}, {\n  key: 0.3,\n  color: ['#87c1ff', '#0e3ca1']\n}, {\n  key: 0.4,\n  color: ['#60a8ff', '#0e3ca1']\n}, {\n  key: 0.5,\n  color: '#338bff'\n}, {\n  key: 0.6,\n  color: '#0d6be3'\n}, {\n  key: 0.7,\n  color: '#0752c9'\n}, {\n  key: 0.8,\n  color: '#0e3ca1'\n}, {\n  key: 0.9,\n  color: '#022277'\n}, {\n  key: 1,\n  color: '#01164b'\n}]\n\nexport {\n  gradient\n}\n","/* global qq */\nexport const ANIMATION_DROP = qq.maps.MarkerAnimation.DROP\nexport const ANIMATION_BOUNCE = qq.maps.MarkerAnimation.BOUNCE\nexport const ANIMATION_DOWN = qq.maps.MarkerAnimation.DOWN\nexport const ANIMATION_UP = qq.maps.MarkerAnimation.UP\n\nexport const ControlPosition = [\n  qq.maps.ControlPosition.TOP_LEFT, // 相对左上角对齐，向右排列。\n  qq.maps.ControlPosition.TOP_CENTER, // 相对上方中间位置对齐。\n  qq.maps.ControlPosition.TOP_RIGHT, // 相对右上角对齐，向左排列。\n  qq.maps.ControlPosition.BOTTOM_LEFT, // 相对左下角对齐，向右排列。\n  qq.maps.ControlPosition.BOTTOM_CENTER, // 相对下方中间位置对齐。\n  qq.maps.ControlPosition.BOTTOM_RIGHT, // 相对右下角对齐，向左排列。\n  qq.maps.ControlPosition.LEFT_TOP, // 相对左上角对齐，向下排列。\n  qq.maps.ControlPosition.LEFT_CENTER, // 相对左方中间位置对齐。\n  qq.maps.ControlPosition.LEFT_BOTTOM, // 相对左下角对齐，向上排列。\n  qq.maps.ControlPosition.RIGHT_TOP, // 相对右上角对齐，向下排列。\n  qq.maps.ControlPosition.RIGHT_CENTER, // 相对右方中间位置对齐。\n  qq.maps.ControlPosition.RIGHT_BOTTOM, // 相对右下角对齐，向上排列。\n  qq.maps.ControlPosition.CENTER // 中间位置对齐。\n]\n","/**\n * @author kyle / http://nikai.us/\n */\n/* eslint-disable */\nimport Event from \"../utils/Event\";\n// import cityCenter from \"../utils/cityCenter\";\n\n/**\n * DataSet\n *\n * A data set can:\n * - add/remove/update data\n * - gives triggers upon changes in the data\n * - can  import/export data in various data formats\n * @param {Array} [data]    Optional array with initial data\n * the field geometry is like geojson, it can be:\n * {\n *     \"type\": \"Point\",\n *     \"coordinates\": [125.6, 10.1]\n * }\n * {\n *     \"type\": \"LineString\",\n *     \"coordinates\": [\n *         [102.0, 0.0], [103.0, 1.0], [104.0, 0.0], [105.0, 1.0]\n *     ]\n * }\n * {\n *     \"type\": \"Polygon\",\n *     \"coordinates\": [\n *         [ [100.0, 0.0], [101.0, 0.0], [101.0, 1.0],\n *           [100.0, 1.0], [100.0, 0.0] ]\n *     ]\n * }\n * @param {Object} [options]   Available options:\n * \n */\nfunction DataSet(data, options) {\n    Event.bind(this)();\n\n    this._options = options || {};\n    this._data = []; // map with data indexed by id\n\n    // add initial data when provided\n    if (data) {\n        this.add(data);\n    }\n\n}\n\nDataSet.prototype = Event.prototype;\n\n/**\n * Add data.\n */\nDataSet.prototype.add = function (data, senderId) {\n    if (Array.isArray(data)) {\n        // Array\n        for (var i = 0, len = data.length; i < len; i++) {\n            if (data[i].time && data[i].time.length == 14 && data[i].time.substr(0, 2) == '20') {\n                var time = data[i].time;\n                data[i].time = new Date(time.substr(0, 4) + '-' + time.substr(4, 2) + '-' + time.substr(6, 2) + ' ' + time.substr(8, 2) + ':' + time.substr(10, 2) + ':' + time.substr(12, 2)).getTime();\n            }\n            this._data.push(data[i]);\n        }\n    } else if (data instanceof Object) {\n        // Single item\n        this._data.push(data);\n    } else {\n        throw new Error('Unknown dataType');\n    }\n\n    this._dataCache = JSON.parse(JSON.stringify(this._data));\n};\n\nDataSet.prototype.reset = function () {\n    this._data = JSON.parse(JSON.stringify(this._dataCache));\n}\n\n/**\n * get data.\n */\nDataSet.prototype.get = function (args) {\n    args = args || {};\n\n    //console.time('copy data time')\n    var start = new Date();\n    // TODO: 不修改原始数据，在数据上挂载新的名称，每次修改数据直接修改新名称下的数据，可以省去deepCopy\n    // var data = deepCopy(this._data);\n    var data = this._data;\n\n    var start = new Date();\n    if (args.filter) {\n        var newData = [];\n        for (var i = 0; i < data.length; i++) {\n          \n            if (args.filter(data[i])) {\n                newData.push(data[i]);\n            }\n        }\n        data = newData;\n    }\n\n    if (args.transferCoordinate) {\n        data = this.transferCoordinate(data, args.transferCoordinate, args.fromColumn, args.toColumn);\n    }\n\n    // console.timeEnd('transferCoordinate time')\n\n    return data;\n\n};\n\n/**\n * set data.\n */\nDataSet.prototype.set = function (data) {\n    this._set(data);\n    this._trigger('change');\n}\n\n/**\n * set data.\n */\nDataSet.prototype._set = function (data) {\n    this.clear();\n    this.add(data);\n}\n\n/**\n * clear data.\n */\nDataSet.prototype.clear = function (args) {\n    this._data = []; // map with data indexed by id\n}\n\n/**\n * remove data.\n */\nDataSet.prototype.remove = function (args) {};\n\n/**\n * update data.\n */\nDataSet.prototype.update = function (cbk, condition) {\n\n    var data = this._data;\n\n    var item = null;\n    for (var i = 0; i < data.length; i++) {\n        if (condition) {\n            var flag = true;\n            for (var key in condition) {\n                if (data[i][key] != condition[key]) {\n                    flag = false;\n                }\n            }\n            if (flag) {\n                cbk && cbk(data[i]);\n            }\n        } else {\n            cbk && cbk(data[i]);\n        }\n    }\n\n    this._dataCache = JSON.parse(JSON.stringify(this._data));\n\n    this._trigger('change');\n};\n\n/**\n * transfer coordinate.\n */\nDataSet.prototype.transferCoordinate = function (data, transferFn, fromColumn, toColumnName) {\n\n    toColumnName = toColumnName || '_coordinates';\n    fromColumn = fromColumn || 'coordinates';\n    for (var i = 0; i < data.length; i++) {\n\n        var geometry = data[i].geometry;\n        var coordinates = geometry[fromColumn];\n        switch (geometry.type) {\n            case 'Point':\n                geometry[toColumnName] = transferFn(coordinates);\n                break;\n            case 'LineString':\n                var newCoordinates = [];\n                for (var j = 0; j < coordinates.length; j++) {\n                    newCoordinates.push(transferFn(coordinates[j]));\n                }\n                geometry[toColumnName] = newCoordinates;\n                break;\n            case 'Polygon':\n                var newCoordinates = getPolygon(coordinates);\n                geometry[toColumnName] = newCoordinates;\n                break;\n            case 'MultiPolygon':\n                var newCoordinates = [];\n                for (var c = 0; c < coordinates.length; c++) {\n                    var polygon = coordinates[c];\n                    var polygon = getPolygon(polygon);\n                    newCoordinates.push(polygon);\n                }\n\n                geometry[toColumnName] = newCoordinates;\n                break;\n        }\n\n    }\n\n    function getPolygon(coordinates) {\n        var newCoordinates = [];\n        for (var c = 0; c < coordinates.length; c++) {\n            var coordinate = coordinates[c];\n            var newcoordinate = [];\n            for (var j = 0; j < coordinate.length; j++) {\n                newcoordinate.push(transferFn(coordinate[j]));\n            }\n            newCoordinates.push(newcoordinate);\n        }\n        return newCoordinates;\n    }\n\n    return data;\n};\n\nDataSet.prototype.initGeometry = function (transferFn) {\n\n    if (transferFn) {\n\n        this._data.forEach(function (item) {\n            item.geometry = transferFn(item);\n        });\n\n    } else {\n\n        this._data.forEach(function (item) {\n            if (!item.geometry) {\n                if (item.lng && item.lat) {\n                    item.geometry = {\n                        type: 'Point',\n                        coordinates: [item.lng, item.lat]\n                    }\n                } \n                // else if (item.city) {\n                //     var center = cityCenter.getCenterByCityName(item.city);\n                //     if (center) {\n                //         item.geometry = {\n                //             type: 'Point',\n                //             coordinates: [center.lng, center.lat]\n                //         }\n                //     }\n                // }\n            }\n        });\n    }\n\n}\n\n/**\n * 获取当前列的最大值\n */\nDataSet.prototype.getMax = function (columnName) {\n    var data = this._data;\n\n    if (!data || data.length <= 0) {\n        return;\n    }\n\n    var max = parseFloat(data[0][columnName]);\n\n    for (var i = 1; i < data.length; i++) {\n        var value = parseFloat(data[i][columnName]);\n        if (value > max) {\n            max = value;\n        }\n    }\n\n    return max;\n}\n\n/**\n * 获取当前列的总和\n */\nDataSet.prototype.getSum = function (columnName) {\n    var data = this._data;\n\n    if (!data || data.length <= 0) {\n        return;\n    }\n\n    var sum = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        if (data[i][columnName]) {\n            sum += parseFloat(data[i][columnName]);\n        }\n    }\n\n    return sum;\n}\n\n/**\n * 获取当前列的最小值\n */\nDataSet.prototype.getMin = function (columnName) {\n    var data = this._data;\n\n    if (!data || data.length <= 0) {\n        return;\n    }\n\n    var min = parseFloat(data[0][columnName]);\n\n    for (var i = 1; i < data.length; i++) {\n        var value = parseFloat(data[i][columnName]);\n        if (value < min) {\n            min = value;\n        }\n    }\n\n    return min;\n}\n\n/**\n * 获取去重的数据\n */\nDataSet.prototype.getUnique = function (columnName) {\n    var data = this._data;\n\n    if (!data || data.length <= 0) {\n        return;\n    }\n\n    var maps = {};\n\n    for (var i = 1; i < data.length; i++) {\n        maps[data[i][columnName]] = true;\n    }\n\n    var data = [];\n    for (var key in maps) {\n        data.push(key);\n    }\n\n    return data;\n}\n\nfunction deepCopy(obj) {\n    var newObj;\n    if (typeof obj == 'object') {\n        newObj = obj instanceof Array ? [] : {};\n        for (var i in obj) {\n            newObj[i] = obj[i] instanceof HTMLElement ? obj[i] : deepCopy(obj[i]);\n        }\n    } else {\n        newObj = obj\n    }\n    return newObj;\n}\n\nexport default DataSet;\n","import QMap from './QMap'\nimport HeatMap from './HeatMap'\nimport Marker from './Marker'\nimport MarkerList from './MarkerList'\nimport Info from './Info'\nimport Circle from './Circle'\nimport Polyline from './Polyline'\nimport Polygon from './Polygon'\nimport Control from './Control'\nimport ControlPosition from './ControlPosition'\nimport * as utils from './utils'\nimport * as config from './constants'\nimport { GridHeatmap, Ruler } from './plugins'\n\nexport {\n  QMap,\n  HeatMap,\n  Marker,\n  MarkerList,\n  Info,\n  Polyline,\n  utils,\n  config,\n  Polygon,\n  Circle,\n  Control,\n  GridHeatmap,\n  ControlPosition,\n  Ruler\n}\n","/* global qq */\nimport { getMapSize } from '../utils'\n\nfunction CanvasLayer (map, options) {\n  this.setMap(map)\n  this.options = options || {}\n  this.context = this.options.context || '2d'\n  this.zIndex = this.options.zIndex || 0\n  qq.maps.Overlay.call(this)\n}\n\nvar global = typeof window === 'undefined' ? {} : window\n\nCanvasLayer.prototype = new qq.maps.Overlay()\n\nCanvasLayer.CSS_TRANSFORM = (function () {\n  var div = document.createElement('div')\n  var props = [\n    'transform',\n    'WebkitTransform',\n    'MozTransform',\n    'OTransform',\n    'msTransform'\n  ]\n\n  for (var i = 0; i < props.length; i++) {\n    var prop = props[i]\n    if (div.style[prop] !== undefined) {\n      return prop\n    }\n  }\n\n  return props[0]\n})()\n\nCanvasLayer.prototype.construct = function () {\n  var mapSize = getMapSize(this.map)\n  var canvas = this.canvas = document.createElement('canvas')\n  canvas.style.cssText = `width: ${mapSize.width}px;height: ${mapSize.height}px;position: relative;z-index: ${this.zIndex}`\n  this.resize()\n  this.getPanes().overlayLayer.appendChild(canvas)\n  qq.maps.event.addListener(this.map, 'bounds_changed', () => {\n    this.resize()\n    this.draw()\n  })\n\n  this.constructed = true\n}\n\nCanvasLayer.prototype.destory = function () {\n  this.canvas.parentElement.removeChild(this.canvas)\n  if (this.changeHandler) {\n    qq.maps.event.removeListener(this.changeHandler)\n    this.changeHandler = null\n  }\n  this.canvas = null\n}\n\nCanvasLayer.prototype.repositionCanvas = function () {\n  if (!this.map) return\n  // 返回当前地图的视野范围\n  var bounds = this.map.getBounds()\n  // 地图视野范围内左上角坐标经纬度 LatLng\n  var topLeft = new qq.maps.LatLng(\n    bounds.getNorthEast().getLat(),\n    bounds.getSouthWest().getLng()\n  )\n\n  // 返回覆盖物容器的相对像素坐标或是经纬度坐标\n  var projection = this.getProjection()\n  // 左上角移动偏移量\n  var offset = projection.fromLatLngToDivPixel(topLeft)\n\n  this.canvas.style[CanvasLayer.CSS_TRANSFORM] = `translate(${Math.round(offset.x)}px, ${Math.round(offset.y)}px)`\n}\n\nCanvasLayer.prototype.draw = function () {\n  this.options.update && this.options.update.call(this)\n}\n\nCanvasLayer.prototype.resize = function () {\n  if (!this.map || !this.canvas) return\n  var size = getMapSize(this.map)\n  var width = size.width\n  var height = size.height\n  var canvas = this.canvas\n  var devicePixelRatio = this.devicePixelRatio = global.devicePixelRatio || 1\n\n  canvas.width = width * devicePixelRatio\n  canvas.height = height * devicePixelRatio\n  if (this.context === '2d') {\n    canvas.getContext(this.context).scale(devicePixelRatio, devicePixelRatio)\n  }\n\n  if (width === this.width && height === this.height) {\n    return\n  }\n\n  canvas.style.width = `${width}px`\n  canvas.style.height = `${height}px`\n\n  this.repositionCanvas()\n}\n\nCanvasLayer.prototype.getContainer = function () {\n  return this.canvas\n}\n\nCanvasLayer.prototype.show = function () {\n  this.canvas.style.display = ''\n}\n\nCanvasLayer.prototype.hide = function () {\n  this.canvas.style.display = 'none'\n}\n\nCanvasLayer.prototype.setZIndex = function (zIndex) {\n  this.zIndex = zIndex\n  this.canvas.style.zIndex = this.zIndex\n}\n\nCanvasLayer.prototype.getZIndex = function () {\n  return this.zIndex\n}\n\nexport default CanvasLayer\n","/* global requestAnimationFrame */\n/**\n * @author kyle / http://nikai.us/\n */\nimport DataSet from '../../data/DataSet'\nimport TWEEN from '../../utils/Tween'\nimport Intensity from '../../utils/data-range/Intensity'\nimport Category from '../../utils/data-range/Category'\nimport Choropleth from '../../utils/data-range/Choropleth'\nimport drawGrid from '../../utils/grid'\nimport pathSimple from '../../canvas/path/simple'\n\nif (typeof window !== 'undefined') {\n  requestAnimationFrame(animate)\n}\n\nfunction animate (time) {\n  requestAnimationFrame(animate)\n  TWEEN.update(time)\n}\n\nclass BaseLayer {\n  constructor (map, data, options) {\n    let _dataSet = data\n    if (!(_dataSet instanceof DataSet)) {\n      _dataSet = data.map((point, i) => ({\n        geometry: {\n          type: 'Point',\n          coordinates: [point.lng, point.lat]\n        },\n        count: data[i][options.countField]\n      }))\n      _dataSet = new DataSet(_dataSet)\n    }\n\n    this.dataSet = _dataSet\n    this.map = map\n  }\n\n  getDefaultContextConfig () {\n    return {\n      globalAlpha: 1,\n      globalCompositeOperation: 'source-over',\n      imageSmoothingEnabled: true,\n      strokeStyle: '#000000',\n      fillStyle: '#000000',\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      shadowBlur: 0,\n      shadowColor: 'rgba(0, 0, 0, 0)',\n      lineWidth: 1,\n      lineCap: 'butt',\n      lineJoin: 'miter',\n      miterLimit: 10,\n      lineDashOffset: 0,\n      font: '10px sans-serif',\n      textAlign: 'start',\n      textBaseline: 'alphabetic'\n    }\n  }\n\n  initDataRange (options) {\n    var self = this\n    self.intensity = new Intensity({\n      maxSize: self.options.maxSize,\n      minSize: self.options.minSize,\n      gradient: self.options.gradient,\n      max: self.options.max || this.dataSet.getMax('count')\n    })\n    self.category = new Category(self.options.splitList)\n    self.choropleth = new Choropleth(self.options.splitList)\n    if (self.options.splitList === undefined) {\n      self.category.generateByDataSet(this.dataSet, self.options.color)\n    }\n    if (self.options.splitList === undefined) {\n      var min = self.options.min || this.dataSet.getMin('count')\n      var max = self.options.max || this.dataSet.getMax('count')\n      self.choropleth.generateByMinMax(min, max, this.options.gradient)\n    }\n  }\n\n  getLegend (options) {\n    var self = this\n    if (self.options.draw === 'intensity' || self.options.draw === 'heatmap') {\n      return this.intensity.getLegend(options)\n    } else if (self.options.draw === 'category') {\n      return this.category.getLegend(options)\n    }\n  }\n\n  processData (data) {\n    var self = this\n    var draw = self.options.draw\n    if (draw === 'bubble' || draw === 'intensity' || draw === 'category' || draw === 'choropleth' || draw === 'simple') {\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i]\n\n        if (self.options.draw === 'bubble') {\n          data[i]._size = self.intensity.getSize(item.count)\n        } else {\n          data[i]._size = undefined\n        }\n\n        var styleType = '_fillStyle'\n\n        if (data[i].geometry.type === 'LineString' || self.options.styleType === 'stroke') {\n          styleType = '_strokeStyle'\n        }\n\n        if (self.options.draw === 'intensity') {\n          data[i][styleType] = self.intensity.getColor(item.count)\n        } else if (self.options.draw === 'category') {\n          data[i][styleType] = self.category.get(item.count)\n        } else if (self.options.draw === 'choropleth') {\n          data[i][styleType] = self.choropleth.get(item.count)\n        }\n      }\n    }\n  }\n\n  isEnabledTime () {\n    var animationOptions = this.options.animation\n\n    var flag = animationOptions && !(animationOptions.enabled === false)\n\n    return flag\n  }\n\n  argCheck (options) {\n    if (options.draw === 'heatmap') {\n      if (options.strokeStyle) {\n        console.warn(\n          '[heatmap] options.strokeStyle is discard, pleause use options.strength [eg: options.strength = 0.1]'\n        )\n      }\n    }\n  }\n\n  drawContext (context, dataSet, options, nwPixel) {\n    var self = this\n    self.options.offset = {\n      x: nwPixel.x,\n      y: nwPixel.y\n    }\n    drawGrid.draw(context, dataSet, self.options)\n  }\n\n  isPointInPath (context, pixel) {\n    this.canvasLayer.canvas.getContext(this.context)\n    var data = this.dataSet.get()\n    for (var i = 0; i < data.length; i++) {\n      context.beginPath()\n      pathSimple.draw(context, data[i], this.options)\n      var x = pixel.x * this.canvasLayer.devicePixelRatio\n      var y = pixel.y * this.canvasLayer.devicePixelRatio\n\n      var geoType = data[i].geometry && data[i].geometry.type\n      if (geoType.indexOf('Polygon') > -1) {\n        if (context.isPointInPath(x, y)) {\n          return data[i]\n        }\n      } else {\n        if (context.isPointInStroke && context.isPointInStroke(x, y)) {\n          return data[i]\n        }\n      }\n    }\n  }\n\n  clickEvent (pixel, e) {\n    if (!this.options.methods) {\n      return\n    }\n    var dataItem = this.isPointInPath(this.getContext(), pixel)\n\n    if (dataItem) {\n      this.options.methods.click(dataItem, e)\n    } else {\n      this.options.methods.click(null, e)\n    }\n  }\n\n  mousemoveEvent (pixel, e) {\n    if (!this.options.methods) {\n      return\n    }\n    var dataItem = this.isPointInPath(this.getContext(), pixel)\n    if (dataItem) {\n      this.options.methods.mousemove(dataItem, e)\n    } else {\n      this.options.methods.mousemove(null, e)\n    }\n  }\n\n  /**\n     * obj.options\n     */\n  update (obj, isDraw) {\n    var self = this\n    var _options = obj.options\n    var options = self.options\n    for (var i in _options) {\n      options[i] = _options[i]\n    }\n    self.init(options)\n    if (isDraw !== false) {\n      self.draw()\n    }\n  }\n\n  setOptions (options) {\n    var self = this\n    self.dataSet.reset()\n    self.init(options)\n    self.draw()\n  }\n\n  set (obj) {\n    var self = this\n    var ctx = this.getContext()\n    var conf = this.getDefaultContextConfig()\n    for (var i in conf) {\n      ctx[i] = conf[i]\n    }\n    self.init(obj.options)\n    self.draw()\n  }\n\n  destroy () {\n    this.unbindEvent()\n    this.hide()\n  }\n\n  initAnimator () {\n    var self = this\n    var animationOptions = self.options.animation\n\n    if (self.options.draw === 'time' || self.isEnabledTime()) {\n      if (!animationOptions.stepsRange) {\n        animationOptions.stepsRange = {\n          start: this.dataSet.getMin('time') || 0,\n          end: this.dataSet.getMax('time') || 0\n        }\n      }\n\n      this.steps = { step: animationOptions.stepsRange.start }\n      self.animator = new TWEEN.Tween(this.steps)\n        .onUpdate(function () {\n          self._canvasUpdate(this.step)\n        })\n        .repeat(Infinity)\n\n      this.addAnimatorEvent()\n\n      var duration = animationOptions.duration * 1000 || 5000\n\n      self.animator.to({ step: animationOptions.stepsRange.end }, duration)\n      self.animator.start()\n    } else {\n      self.animator && self.animator.stop()\n    }\n  }\n\n  addAnimatorEvent () {}\n\n  animatorMovestartEvent () {\n    var animationOptions = this.options.animation\n    if (this.isEnabledTime() && this.animator) {\n      this.steps.step = animationOptions.stepsRange.start\n      this.animator.stop()\n    }\n  }\n\n  animatorMoveendEvent () {\n    if (this.isEnabledTime() && this.animator) {\n      this.animator.start()\n    }\n  }\n}\n\nexport default BaseLayer\n","/* global qq */\nimport BaseLayer from './BaseLayer'\nimport CanvasLayer from '../CanvasLayer'\nimport DataSet from '../../data/DataSet'\nimport { clear } from '../../utils'\nimport { gradient } from '../../config'\nimport _extend from 'extend'\n\nclass GridHeatmap extends BaseLayer {\n  constructor (map, data, options) {\n    options = _extend(true, {}, {\n      gradient,\n      unit: 'm',\n      countField: 'count',\n      showText: true,\n      showTextZoomLevel: 16,\n      // 是否没屏都开启颜色计算，如果是，则没屏都会有一个最深颜色\n      useLocalExtrema: true\n    }, options)\n    super(map, data, options)\n    // 记录当前在可是区域内的网格数\n    this.inViewPortCount = 0\n    this.init(options)\n    this._zoom = map.getZoom()\n    this.options.showText = this._zoom > this.options.showTextZoomLevel\n    this.canvasLayer = new CanvasLayer(map, {\n      context: this.context,\n      paneName: options.paneName,\n      zIndex: options.zIndex,\n      update: () => this._canvasUpdate()\n    })\n\n    qq.maps.event.addListener(this.map, 'zoom_changed', () => {\n      const zoom = this.map.getZoom()\n      const showTextZoomLevel = options.showTextZoomLevel\n      this.options.showText = zoom > showTextZoomLevel\n    })\n  }\n\n  clickEvent (e) {\n    var pixel = e.pixel\n    super.clickEvent(pixel, e)\n  }\n\n  mousemoveEvent (e) {\n    var pixel = e.pixel\n    super.mousemoveEvent(pixel, e)\n  }\n\n  bindEvent (e) {\n    this.unbindEvent()\n    if (this.options.methods) {\n      if (this.options.methods.click) {\n        this.clickMapHandler = qq.maps.event.addListener(this.map, 'click', this.clickEvent)\n      }\n      if (this.options.methods.mousemove) {\n        this.mouseMoveMapHandler = qq.maps.event.addListener(this.map, 'mousemove', this.mousemoveEvent)\n      }\n    }\n  }\n\n  unbindEvent (e) {\n    if (this.options.methods) {\n      if (this.options.methods.click) {\n        qq.maps.event.removeListener(this.clickMapHandler)\n      }\n      if (this.options.methods.mousemove) {\n        qq.maps.event.removeListener(this.mouseMoveMapHandler)\n      }\n    }\n  }\n\n  setData (data) {\n    let _dataSet\n    if (!(_dataSet instanceof DataSet)) {\n      _dataSet = data.map((point, i) => ({\n        geometry: {\n          type: 'Point',\n          coordinates: [point.lng, point.lat]\n        },\n        count: data[i][this.options.countField]\n      }))\n    }\n\n    this.dataSet.set(_dataSet)\n    if (this.canvasLayer) this.canvasLayer.draw()\n  }\n\n  updateOptions (opts) {\n    console.log(opts)\n    this.options = _extend(true, this.options, opts)\n    console.log(this.options)\n  }\n\n  getContext () {\n    if (!this.canvasLayer.canvas) return null\n    return this.canvasLayer.canvas.getContext(this.context)\n  }\n\n  _canvasUpdate () {\n    const map = this.map\n    const projection = map.getProjection()\n    if (!this.canvasLayer || !projection) {\n      return\n    }\n\n    const bounds = map.getBounds()\n    const topLeft = new qq.maps.LatLng(\n      bounds.getNorthEast().getLat(),\n      bounds.getSouthWest().getLng()\n    )\n    const zoom = map.getZoom()\n    const context = this.getContext()\n    const zoomUnit = Math.pow(2, 17 - zoom)\n    const layerProjection = this.canvasLayer.getProjection()\n    const layerOffset = layerProjection.fromLatLngToDivPixel(topLeft)\n    const dataGetOptions = {\n      fromColumn: 'coordinates',\n      filter: item => {\n        const { geometry: { coordinates } } = item\n        const point = new qq.maps.LatLng(coordinates[1], coordinates[0])\n        return bounds.contains(point)\n      },\n      transferCoordinate: function (coordinate) {\n        const pixel = layerProjection.fromLatLngToDivPixel(new qq.maps.LatLng(coordinate[1], coordinate[0]))\n        const point = {\n          x: pixel.x - layerOffset.x,\n          y: pixel.y - layerOffset.y\n        }\n        return [point.x, point.y]\n      }\n    }\n\n    const data = this.dataSet.get(dataGetOptions)\n    if (!data.length) return\n    if (this.context === '2d') {\n      // 配置全局 canvas 上下文参数\n      for (let key in this.options) {\n        context[key] = this.options[key]\n      }\n    } else {\n      context.clear(context.COLOR_BUFFER_BIT)\n    }\n\n    // 计算缩放级别\n    if ((this.options.minZoom && map.getZoom() < this.options.minZoom) || (this.options.maxZoom && map.getZoom() > this.options.maxZoom)) {\n      return\n    }\n    // get data from data set\n    if (this.options.unit === 'm') {\n      if (this.options.size) {\n        this.options._size = this.options.size / zoomUnit\n        this.options._height = this.options.height / zoomUnit\n        this.options._width = this.options.width / zoomUnit\n      }\n    } else {\n      this.options._size = this.options.size\n      this.options._height = this.options.height\n      this.options._width = this.options.width\n    }\n    this.options.zoom = zoom\n\n    clear(context)\n\n    this.drawContext(context, data, this.options, {\n      x: layerOffset.x,\n      y: layerOffset.y\n    })\n  }\n\n  init (options) {\n    this.options = options\n    // 调用父类方法，得到颜色分割区间\n    this.initDataRange(options)\n    // 颜色配置区间\n    this.options.choropleth = this.choropleth\n    this.options.category = this.category\n    this.options.intensity = this.intensity\n    // 设置 canvas 绘制上下文\n    this.context = this.options.context || '2d'\n\n    if (this.options.zIndex) {\n      this.canvasLayer && this.canvasLayer.setZIndex(this.options.zIndex)\n    }\n\n    if (this.options.max) {\n      this.intensity.setMax(this.options.max)\n    }\n\n    if (this.options.min) {\n      this.intensity.setMin(this.options.min)\n    }\n\n    this.bindEvent()\n  }\n\n  addAnimatorEvent () {\n    qq.maps.event.addListener(this.map, 'movestart', this.animatorMovestartEvent.bind(this))\n    qq.maps.event.addListener(this.map, 'moveend', this.animatorMoveendEvent.bind(this))\n  }\n}\n\nexport default GridHeatmap\n","import GridHeatmap from './gird-heatmap'\nimport Ruler from './ruler'\n\nexport {\n  GridHeatmap,\n  Ruler\n}\n","/* global qq */\nimport React from 'react'\nimport CanvasLayer from '../CanvasLayer'\nimport Circle from '../../Circle'\n// import Overlay from '../../Overlay'\n\nexport default class Ruler extends React.Component {\n  static defaultProps = {\n    editable: false,\n    // 提示弹层相对测距点中心偏移\n    tipsOffset: {\n      x: 30,\n      y: 0\n    },\n    // 原点背景色颜色\n    dotStrokeColor: 'red',\n    dotRadius: 10,\n    // 原点描边类型 solid || dash\n    dotStrokeDashStyle: 'solid',\n    // 测距线宽度\n    dotStrokeWeight: '1',\n    // 原点背景色颜色\n    dotFillColor: '#fff',\n    lineStrokeColor: 'red',\n    lineStrokeDashStyle: 'solid',\n    lineStrokeWeight: '1',\n    // 点击新增测距点\n    onClick: () => {},\n    // 双击完成测距\n    onCompleted: () => {},\n    // 删除测距点\n    onDelete: () => {},\n    // 清空测距点\n    onClear: () => {},\n    onBoundsChanged: () => {},\n    // 鼠标移动事件\n    onMouseMove: () => {}\n  }\n\n  constructor (props) {\n    super(props)\n    this.state = {\n      results: []\n    }\n  }\n\n  componentDidMount () {\n    this.initialize()\n  }\n\n  get circleOptions () {\n    const { dotStrokeColor: strokeColor, dotStrokeDashStyle: strokeDashStyle, dotStrokeWeight: strokeWeight, dotRadius: radius } = this.props\n    return {\n      strokeColor,\n      strokeWeight,\n      radius,\n      strokeDashStyle\n    }\n  }\n\n  get overlayOptions () {\n    const { tipsOffset: offset } = this.props\n    return {\n      offset,\n      style: {\n        border: '1px solid #000',\n        boxShadow: '2px 2px 4px 2px rgba(0, 0, 0, 0.2)'\n      }\n    }\n  }\n\n  initialize = () => {\n    const { map } = this.props\n    if (!map) return\n\n    this.canvasLayer = new CanvasLayer(map, {\n      update: this.handleUpdate\n    })\n  }\n\n  bindEvent = () => {\n    const { map } = this.props\n    qq.maps.event.addListener(map, 'bounds_changed', this.proxyEvent(this.handleBoundsChanged))\n\n    qq.maps.event.addListener(map, 'click', this.proxyEvent(this.handleClick))\n\n    qq.maps.event.addListener(map, 'dblclick', this.proxyEvent(this.handleDoubleClick))\n\n    qq.maps.event.addListener(map, 'mousemove', this.proxyEvent(this.handleMouseMove))\n\n    qq.maps.event.addListener(map, 'rightclick', this.proxyEvent(this.handleDoubleClick))\n  }\n\n  proxyEvent = fn => () => {\n    const { editable } = this.props\n    if (editable) fn()\n    return false\n  }\n\n  handleBoundsChanged = () => {\n    const { onBoundsChanged } = this.props\n    onBoundsChanged && onBoundsChanged()\n  }\n\n  handleClick = () => {\n    const { onClick } = this.props\n    onClick && onClick()\n  }\n\n  handleDoubleClick = () => {\n    const { onCompleted } = this.props\n    onCompleted && onCompleted()\n  }\n\n  handleMouseMove = () => {\n    const { onMouseMove } = this.props\n    onMouseMove && onMouseMove()\n  }\n\n  // 清空测距\n  handleClear = () => {\n    const { onClear } = this.props\n    onClear && onClear()\n  }\n\n  // 删除测距点\n  handleDelete = () => {\n    const { onDelete } = this.props\n    onDelete && onDelete()\n  }\n\n  handleUpdate = () => {\n    // 绘制核心逻辑\n  }\n\n  render () {\n    const { results } = this.state\n    return (\n      <div className='ruler-container'>\n        {results.map((path, i) => {\n          // 绘制定点 dots\n          const { dots } = path\n          return (\n            <React.Fragment>\n              {dots.map((dot, i) => {\n                const { lat, lng } = dot\n                return (\n                  <React.Fragment>\n                    <Circle center={{ lat, lng }} {...this.circleOptions} />\n                  </React.Fragment>\n                )\n              })}\n            </React.Fragment>\n          )\n        })}\n      </div>\n    )\n  }\n}\n","export default class Canvas {\n  constructor (width, height) {\n    var canvas = document.createElement('canvas')\n    if (width) {\n      canvas.width = width\n    }\n\n    if (height) {\n      canvas.height = height\n    }\n\n    return canvas\n  }\n}\n","function Event () {\n  this._subscribers = {}\n}\n\nEvent.prototype.on = function (event, callback) {\n  var subscribers = this._subscribers[event]\n  if (!subscribers) {\n    subscribers = []\n    this._subscribers[event] = subscribers\n  }\n\n  subscribers.push({\n    callback: callback\n  })\n}\n\n/**\n * Unsubscribe from an event, remove an event listener\n * @param {String} event\n * @param {function} callback\n */\nEvent.prototype.off = function (event, callback) {\n  var subscribers = this._subscribers[event]\n  if (subscribers) {\n    // this._subscribers[event] = subscribers.filter(listener => listener.callback != callback)\n    for (var i = 0; i < subscribers.length; i++) {\n      if (subscribers[i].callback === callback) {\n        subscribers.splice(i, 1)\n        i--\n      }\n    }\n  }\n}\n\n/**\n * Trigger an event\n * @param {String} event\n * @param {Object | null} params\n * @param {String} [senderId]       Optional id of the sender.\n * @private\n */\nEvent.prototype._trigger = function (event, params, senderId) {\n  if (event === '*') {\n    throw new Error('Cannot trigger event *')\n  }\n\n  var subscribers = []\n  if (event in this._subscribers) {\n    subscribers = subscribers.concat(this._subscribers[event])\n  }\n  if ('*' in this._subscribers) {\n    subscribers = subscribers.concat(this._subscribers['*'])\n  }\n\n  for (var i = 0, len = subscribers.length; i < len; i++) {\n    var subscriber = subscribers[i]\n    if (subscriber.callback) {\n      subscriber.callback(event, params, senderId || null)\n    }\n  }\n}\n\nexport default Event\n","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\nvar TWEEN = TWEEN || (function () {\n\n    var _tweens = [];\n\n    return {\n\n        getAll: function () {\n\n            return _tweens;\n\n        },\n\n        removeAll: function () {\n\n            _tweens = [];\n\n        },\n\n        add: function (tween) {\n\n            _tweens.push(tween);\n\n        },\n\n        remove: function (tween) {\n\n            var i = _tweens.indexOf(tween);\n\n            if (i !== -1) {\n                _tweens.splice(i, 1);\n            }\n\n        },\n\n        update: function (time, preserve) {\n\n            if (_tweens.length === 0) {\n                return false;\n            }\n\n            var i = 0;\n\n            time = time !== undefined ? time : TWEEN.now();\n\n            while (i < _tweens.length) {\n\n                if (_tweens[i].update(time) || preserve) {\n                    i++;\n                } else {\n                    _tweens.splice(i, 1);\n                }\n\n            }\n\n            return true;\n\n        }\n    };\n\n})();\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (window) === 'undefined' && typeof (process) !== 'undefined') {\n    TWEEN.now = function () {\n        var time = process.hrtime();\n\n        // Convert [seconds, nanoseconds] to milliseconds.\n        return time[0] * 1000 + time[1] / 1000000;\n    };\n}\n// In a browser, use window.performance.now if it is available.\nelse if (typeof (window) !== 'undefined' &&\n         window.performance !== undefined &&\n         window.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    TWEEN.now = window.performance.now.bind(window.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n    TWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n    TWEEN.now = function () {\n        return new Date().getTime();\n    };\n}\n\n\nTWEEN.Tween = function (object) {\n\n    var _object = object;\n    var _valuesStart = {};\n    var _valuesEnd = {};\n    var _valuesStartRepeat = {};\n    var _duration = 1000;\n    var _repeat = 0;\n    var _repeatDelayTime;\n    var _yoyo = false;\n    var _isPlaying = false;\n    var _reversed = false;\n    var _delayTime = 0;\n    var _startTime = null;\n    var _easingFunction = TWEEN.Easing.Linear.None;\n    var _interpolationFunction = TWEEN.Interpolation.Linear;\n    var _chainedTweens = [];\n    var _onStartCallback = null;\n    var _onStartCallbackFired = false;\n    var _onUpdateCallback = null;\n    var _onCompleteCallback = null;\n    var _onStopCallback = null;\n\n    this.to = function (properties, duration) {\n\n        _valuesEnd = properties;\n\n        if (duration !== undefined) {\n            _duration = duration;\n        }\n\n        return this;\n\n    };\n\n    this.start = function (time) {\n\n        TWEEN.add(this);\n\n        _isPlaying = true;\n\n        _onStartCallbackFired = false;\n\n        _startTime = time !== undefined ? time : TWEEN.now();\n        _startTime += _delayTime;\n\n        for (var property in _valuesEnd) {\n\n            // Check if an Array was provided as property value\n            if (_valuesEnd[property] instanceof Array) {\n\n                if (_valuesEnd[property].length === 0) {\n                    continue;\n                }\n\n                // Create a local copy of the Array with the start value at the front\n                _valuesEnd[property] = [_object[property]].concat(_valuesEnd[property]);\n\n            }\n\n            // If `to()` specifies a property that doesn't exist in the source object,\n            // we should not set that property in the object\n            if (_object[property] === undefined) {\n                continue;\n            }\n\n            // Save the starting value.\n            _valuesStart[property] = _object[property];\n\n            if ((_valuesStart[property] instanceof Array) === false) {\n                _valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n            }\n\n            _valuesStartRepeat[property] = _valuesStart[property] || 0;\n\n        }\n\n        return this;\n\n    };\n\n    this.stop = function () {\n\n        if (!_isPlaying) {\n            return this;\n        }\n\n        TWEEN.remove(this);\n        _isPlaying = false;\n\n        if (_onStopCallback !== null) {\n            _onStopCallback.call(_object, _object);\n        }\n\n        this.stopChainedTweens();\n        return this;\n\n    };\n\n    this.end = function () {\n\n        this.update(_startTime + _duration);\n        return this;\n\n    };\n\n    this.stopChainedTweens = function () {\n\n        for (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n            _chainedTweens[i].stop();\n        }\n\n    };\n\n    this.delay = function (amount) {\n\n        _delayTime = amount;\n        return this;\n\n    };\n\n    this.repeat = function (times) {\n\n        _repeat = times;\n        return this;\n\n    };\n\n    this.repeatDelay = function (amount) {\n\n        _repeatDelayTime = amount;\n        return this;\n\n    };\n\n    this.yoyo = function (yoyo) {\n\n        _yoyo = yoyo;\n        return this;\n\n    };\n\n\n    this.easing = function (easing) {\n\n        _easingFunction = easing;\n        return this;\n\n    };\n\n    this.interpolation = function (interpolation) {\n\n        _interpolationFunction = interpolation;\n        return this;\n\n    };\n\n    this.chain = function () {\n\n        _chainedTweens = arguments;\n        return this;\n\n    };\n\n    this.onStart = function (callback) {\n\n        _onStartCallback = callback;\n        return this;\n\n    };\n\n    this.onUpdate = function (callback) {\n\n        _onUpdateCallback = callback;\n        return this;\n\n    };\n\n    this.onComplete = function (callback) {\n\n        _onCompleteCallback = callback;\n        return this;\n\n    };\n\n    this.onStop = function (callback) {\n\n        _onStopCallback = callback;\n        return this;\n\n    };\n\n    this.update = function (time) {\n\n        var property;\n        var elapsed;\n        var value;\n\n        if (time < _startTime) {\n            return true;\n        }\n\n        if (_onStartCallbackFired === false) {\n\n            if (_onStartCallback !== null) {\n                _onStartCallback.call(_object, _object);\n            }\n\n            _onStartCallbackFired = true;\n        }\n\n        elapsed = (time - _startTime) / _duration;\n        elapsed = elapsed > 1 ? 1 : elapsed;\n\n        value = _easingFunction(elapsed);\n\n        for (property in _valuesEnd) {\n\n            // Don't update properties that do not exist in the source object\n            if (_valuesStart[property] === undefined) {\n                continue;\n            }\n\n            var start = _valuesStart[property] || 0;\n            var end = _valuesEnd[property];\n\n            if (end instanceof Array) {\n\n                _object[property] = _interpolationFunction(end, value);\n\n            } else {\n\n                // Parses relative end values with start as base (e.g.: +10, -3)\n                if (typeof (end) === 'string') {\n\n                    if (end.charAt(0) === '+' || end.charAt(0) === '-') {\n                        end = start + parseFloat(end);\n                    } else {\n                        end = parseFloat(end);\n                    }\n                }\n\n                // Protect against non numeric properties.\n                if (typeof (end) === 'number') {\n                    _object[property] = start + (end - start) * value;\n                }\n\n            }\n\n        }\n\n        if (_onUpdateCallback !== null) {\n            _onUpdateCallback.call(_object, value);\n        }\n\n        if (elapsed === 1) {\n\n            if (_repeat > 0) {\n\n                if (isFinite(_repeat)) {\n                    _repeat--;\n                }\n\n                // Reassign starting values, restart by making startTime = now\n                for (property in _valuesStartRepeat) {\n\n                    if (typeof (_valuesEnd[property]) === 'string') {\n                        _valuesStartRepeat[property] = _valuesStartRepeat[property] + parseFloat(_valuesEnd[property]);\n                    }\n\n                    if (_yoyo) {\n                        var tmp = _valuesStartRepeat[property];\n\n                        _valuesStartRepeat[property] = _valuesEnd[property];\n                        _valuesEnd[property] = tmp;\n                    }\n\n                    _valuesStart[property] = _valuesStartRepeat[property];\n\n                }\n\n                if (_yoyo) {\n                    _reversed = !_reversed;\n                }\n\n                if (_repeatDelayTime !== undefined) {\n                    _startTime = time + _repeatDelayTime;\n                } else {\n                    _startTime = time + _delayTime;\n                }\n\n                return true;\n\n            } else {\n\n                if (_onCompleteCallback !== null) {\n\n                    _onCompleteCallback.call(_object, _object);\n                }\n\n                for (var i = 0, numChainedTweens = _chainedTweens.length; i < numChainedTweens; i++) {\n                    // Make the chained tweens start exactly at the time they should,\n                    // even if the `update()` method was called way past the duration of the tween\n                    _chainedTweens[i].start(_startTime + _duration);\n                }\n\n                return false;\n\n            }\n\n        }\n\n        return true;\n\n    };\n\n};\n\n\nTWEEN.Easing = {\n\n    Linear: {\n\n        None: function (k) {\n\n            return k;\n\n        }\n\n    },\n\n    Quadratic: {\n\n        In: function (k) {\n\n            return k * k;\n\n        },\n\n        Out: function (k) {\n\n            return k * (2 - k);\n\n        },\n\n        InOut: function (k) {\n\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k;\n            }\n\n            return - 0.5 * (--k * (k - 2) - 1);\n\n        }\n\n    },\n\n    Cubic: {\n\n        In: function (k) {\n\n            return k * k * k;\n\n        },\n\n        Out: function (k) {\n\n            return --k * k * k + 1;\n\n        },\n\n        InOut: function (k) {\n\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k * k;\n            }\n\n            return 0.5 * ((k -= 2) * k * k + 2);\n\n        }\n\n    },\n\n    Quartic: {\n\n        In: function (k) {\n\n            return k * k * k * k;\n\n        },\n\n        Out: function (k) {\n\n            return 1 - (--k * k * k * k);\n\n        },\n\n        InOut: function (k) {\n\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k * k * k;\n            }\n\n            return - 0.5 * ((k -= 2) * k * k * k - 2);\n\n        }\n\n    },\n\n    Quintic: {\n\n        In: function (k) {\n\n            return k * k * k * k * k;\n\n        },\n\n        Out: function (k) {\n\n            return --k * k * k * k * k + 1;\n\n        },\n\n        InOut: function (k) {\n\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k * k * k * k;\n            }\n\n            return 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n        }\n\n    },\n\n    Sinusoidal: {\n\n        In: function (k) {\n\n            return 1 - Math.cos(k * Math.PI / 2);\n\n        },\n\n        Out: function (k) {\n\n            return Math.sin(k * Math.PI / 2);\n\n        },\n\n        InOut: function (k) {\n\n            return 0.5 * (1 - Math.cos(Math.PI * k));\n\n        }\n\n    },\n\n    Exponential: {\n\n        In: function (k) {\n\n            return k === 0 ? 0 : Math.pow(1024, k - 1);\n\n        },\n\n        Out: function (k) {\n\n            return k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n        },\n\n        InOut: function (k) {\n\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(1024, k - 1);\n            }\n\n            return 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n        }\n\n    },\n\n    Circular: {\n\n        In: function (k) {\n\n            return 1 - Math.sqrt(1 - k * k);\n\n        },\n\n        Out: function (k) {\n\n            return Math.sqrt(1 - (--k * k));\n\n        },\n\n        InOut: function (k) {\n\n            if ((k *= 2) < 1) {\n                return - 0.5 * (Math.sqrt(1 - k * k) - 1);\n            }\n\n            return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n        }\n\n    },\n\n    Elastic: {\n\n        In: function (k) {\n\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n        },\n\n        Out: function (k) {\n\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n        },\n\n        InOut: function (k) {\n\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            k *= 2;\n\n            if (k < 1) {\n                return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n            }\n\n            return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n        }\n\n    },\n\n    Back: {\n\n        In: function (k) {\n\n            var s = 1.70158;\n\n            return k * k * ((s + 1) * k - s);\n\n        },\n\n        Out: function (k) {\n\n            var s = 1.70158;\n\n            return --k * k * ((s + 1) * k + s) + 1;\n\n        },\n\n        InOut: function (k) {\n\n            var s = 1.70158 * 1.525;\n\n            if ((k *= 2) < 1) {\n                return 0.5 * (k * k * ((s + 1) * k - s));\n            }\n\n            return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n        }\n\n    },\n\n    Bounce: {\n\n        In: function (k) {\n\n            return 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n        },\n\n        Out: function (k) {\n\n            if (k < (1 / 2.75)) {\n                return 7.5625 * k * k;\n            } else if (k < (2 / 2.75)) {\n                return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n            } else if (k < (2.5 / 2.75)) {\n                return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n            } else {\n                return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n            }\n\n        },\n\n        InOut: function (k) {\n\n            if (k < 0.5) {\n                return TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n            }\n\n            return TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n        }\n\n    }\n\n};\n\nTWEEN.Interpolation = {\n\n    Linear: function (v, k) {\n\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = TWEEN.Interpolation.Utils.Linear;\n\n        if (k < 0) {\n            return fn(v[0], v[1], f);\n        }\n\n        if (k > 1) {\n            return fn(v[m], v[m - 1], m - f);\n        }\n\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n    },\n\n    Bezier: function (v, k) {\n\n        var b = 0;\n        var n = v.length - 1;\n        var pw = Math.pow;\n        var bn = TWEEN.Interpolation.Utils.Bernstein;\n\n        for (var i = 0; i <= n; i++) {\n            b += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n        }\n\n        return b;\n\n    },\n\n    CatmullRom: function (v, k) {\n\n        var m = v.length - 1;\n        var f = m * k;\n        var i = Math.floor(f);\n        var fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n        if (v[0] === v[m]) {\n\n            if (k < 0) {\n                i = Math.floor(f = m * (1 + k));\n            }\n\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n        } else {\n\n            if (k < 0) {\n                return v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n            }\n\n            if (k > 1) {\n                return v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n            }\n\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n        }\n\n    },\n\n    Utils: {\n\n        Linear: function (p0, p1, t) {\n\n            return (p1 - p0) * t + p0;\n\n        },\n\n        Bernstein: function (n, i) {\n\n            var fc = TWEEN.Interpolation.Utils.Factorial;\n\n            return fc(n) / fc(i) / fc(n - i);\n\n        },\n\n        Factorial: (function () {\n\n            var a = [1];\n\n            return function (n) {\n\n                var s = 1;\n\n                if (a[n]) {\n                    return a[n];\n                }\n\n                for (var i = n; i > 1; i--) {\n                    s *= i;\n                }\n\n                a[n] = s;\n                return s;\n\n            };\n\n        })(),\n\n        CatmullRom: function (p0, p1, p2, p3, t) {\n\n            var v0 = (p2 - p0) * 0.5;\n            var v1 = (p3 - p1) * 0.5;\n            var t2 = t * t;\n            var t3 = t * t2;\n\n            return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n        }\n\n    }\n\n};\n\nexport default TWEEN;\n","/* eslint-disable */\n/**\n * @author kyle / http://nikai.us/\n */\n\n/**\n * Category\n * @param {Object} splitList:\n *   { \n *       other: 1,\n *       1: 2,\n *       2: 3,\n *       3: 4,\n *       4: 5,\n *       5: 6,\n *       6: 7\n *   }\n */\nfunction Category (splitList) {\n  this.splitList = splitList || {\n    other: 1\n  };\n}\n\nCategory.prototype.get = function (count) {\n\n  var splitList = this.splitList;\n\n  var value = splitList['other'];\n\n  for (var i in splitList) {\n    if (count == i) {\n      value = splitList[i];\n      break;\n    }\n  }\n\n  return value;\n}\n\n/**\n * 根据 DataSet 自动生成对应的 splitList\n */\nCategory.prototype.generateByDataSet = function (dataSet, color) {\n  var colors = color || ['rgba(255, 255, 0, 0.8)', 'rgba(253, 98, 104, 0.8)', 'rgba(255, 146, 149, 0.8)', 'rgba(255, 241, 193, 0.8)', 'rgba(110, 176, 253, 0.8)', 'rgba(52, 139, 251, 0.8)', 'rgba(17, 102, 252, 0.8)'];\n  var data = dataSet.get();\n  this.splitList = {};\n  var count = 0;\n  for (var i = 0; i < data.length; i++) {\n    if (this.splitList[data[i].count] === undefined) {\n      this.splitList[data[i].count] = colors[count];\n      count++;\n    }\n    if (count >= colors.length - 1) {\n      break;\n    }\n  }\n\n  this.splitList['other'] = colors[colors.length - 1];\n}\n\n\nCategory.prototype.getLegend = function (options) {\n  var splitList = this.splitList;\n  var container = document.createElement('div');\n  container.style.cssText = \"background:#fff; padding: 5px; border: 1px solid #ccc;\";\n  var html = '';\n  for (var key in splitList) {\n    html += '<div style=\"line-height: 19px;\" value=\"' + key + '\"><span style=\"vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:' + splitList[key] + ';\"></span><span style=\"margin-left: 3px;\">' + key + '<span></div>'\n  }\n  container.innerHTML = html;\n  return container;\n}\n\nexport default Category;\n","/* eslint-disable */\nimport { gradient as defaultGradient } from '../../config'\n/**\n * @author kyle / http://nikai.us/\n */\n\n/**\n * Choropleth\n * @param {Object} splitList:\n *       [\n *           {\n *               start: 0,\n *               end: 2,\n *               value: randomColor()\n *           },{\n *               start: 2,\n *               end: 4,\n *               value: randomColor()\n *           },{\n *               start: 4,\n *               value: randomColor()\n *           }\n *       ]\n *\n */\nfunction Choropleth (splitList) {\n  this.splitList = splitList || [{\n    start: 0,\n    value: 'red'\n  }]\n}\n\nChoropleth.prototype.get = function (count) {\n  var splitList = this.splitList\n\n  var value = false\n\n  for (var i = 0; i < splitList.length; i++) {\n    if (\n      (splitList[i].start === undefined || (splitList[i].start !== undefined && count >= splitList[i].start)) &&\n      (splitList[i].end === undefined || (splitList[i].end !== undefined && count < splitList[i].end))) {\n      value = splitList[i].value\n      break\n    }\n  }\n\n  return value\n}\n\n/**\n * 根据DataSet自动生成对应的splitList\n */\nChoropleth.prototype.generateByDataSet = function (dataSet, gradient) {\n  var min = dataSet.getMin('count')\n  var max = dataSet.getMax('count')\n\n  this.generateByMinMax(min, max, gradient)\n}\n\n/**\n * 根据渐变规则\n * 自动生成对应的 splitList\n */\nChoropleth.prototype.generateByMinMax = function (min, max, gradient) {\n  var colors = gradient || defaultGradient\n  var splitNum = Number(Math.ceil((max - min) / colors.length))\n  max = Number(max)\n  var index = Number(min)\n  this.splitList = []\n  var count = 0\n\n  while (index < max) {\n    this.splitList.push({\n      start: index,\n      end: index + splitNum,\n      value: colors[count]\n    })\n    count++\n    index += splitNum\n  }\n}\n\nChoropleth.prototype.getLegend = function (options) {\n  return this.splitList\n}\n\nexport default Choropleth\n","/**\n * @author kyle / http://nikai.us/\n */\n\nimport Canvas from '../Canvas'\n\n/**\n * Category\n * @param {Object} [options]   Available options:\n *                             {Object} gradient: { 0.25: 'rgb(0,0,255)', 0.55: 'rgb(0,255,0)', 0.85: 'yellow', 1.0: 'rgb(255,0,0)'}\n */\nfunction Intensity (options) {\n  options = options || {}\n  this.gradient = options.gradient\n  this.maxSize = options.maxSize || 35\n  this.minSize = options.minSize || 0\n  this.max = options.max || 100\n  this.min = options.min || 0\n  this.initPalette()\n}\n\nIntensity.prototype.setMax = function (value) {\n  this.max = value || 100\n}\n\nIntensity.prototype.setMin = function (value) {\n  this.min = value || 0\n}\n\nIntensity.prototype.setMaxSize = function (maxSize) {\n  this.maxSize = maxSize || 35\n}\n\nIntensity.prototype.setMinSize = function (minSize) {\n  this.minSize = minSize || 0\n}\n\nIntensity.prototype.initPalette = function () {\n  var gradient = this.gradient\n\n  var canvas = new Canvas(256, 1)\n\n  var paletteCtx = this.paletteCtx = canvas.getContext('2d')\n\n  var lineGradient = paletteCtx.createLinearGradient(0, 0, 256, 1)\n\n  gradient.forEach(item => {\n    let stopColor = item.color\n    if (Object.prototype.toString.call(stopColor) === '[object Array]') {\n      stopColor = stopColor[0]\n    }\n\n    lineGradient.addColorStop(parseFloat(item.key), stopColor)\n  })\n\n  paletteCtx.fillStyle = lineGradient\n  paletteCtx.fillRect(0, 0, 256, 1)\n}\n\nIntensity.prototype.getColor = function (value) {\n  var imageData = this.getImageData(value)\n  return 'rgba(' + imageData[0] + ', ' + imageData[1] + ', ' + imageData[2] + ', ' + imageData[3] / 256 + ')'\n}\n\nIntensity.prototype.getImageData = function (value) {\n  var imageData = this.paletteCtx.getImageData(0, 0, 256, 1).data\n\n  if (value === undefined) {\n    return imageData\n  }\n\n  var max = this.max\n  var min = this.min\n\n  if (value > max) {\n    value = max\n  }\n\n  if (value < min) {\n    value = min\n  }\n\n  // Math.floor((value - min) / (max - min) * (256 - 1)) 获取当前值占比整个 canvas 长度的比例\n  // 1 像素 = 4 个数组元素 r,g,b,a 组成，所以这里乘以 4\n  var index = Math.floor((value - min) / (max - min) * (256 - 1)) * 4\n\n  return [imageData[index], imageData[index + 1], imageData[index + 2], imageData[index + 3]]\n}\n\n/**\n * @param Number value\n * @param Number max of value\n * @param Number max of size\n * @param Object other options\n */\nIntensity.prototype.getSize = function (value) {\n  var size = 0\n  var max = this.max\n  var min = this.min\n  var maxSize = this.maxSize\n  var minSize = this.minSize\n\n  if (value > max) {\n    value = max\n  }\n\n  if (value < min) {\n    value = min\n  }\n\n  size = minSize + (value - min) / (max - min) * (maxSize - minSize)\n\n  return size\n}\n\nIntensity.prototype.getLegend = function (options) {\n  var gradient = this.gradient\n  var width = options.width || 20\n  var height = options.height || 180\n\n  var canvas = new Canvas(width, height)\n\n  var paletteCtx = canvas.getContext('2d')\n\n  var lineGradient = paletteCtx.createLinearGradient(0, height, 0, 0)\n\n  console.log(gradient)\n  for (var key in gradient) {\n    lineGradient.addColorStop(parseFloat(key), gradient[key])\n  }\n\n  paletteCtx.fillStyle = lineGradient\n  paletteCtx.fillRect(0, 0, width, height)\n\n  return canvas\n}\n\nIntensity.prototype.getTextColor = function (splitList, count) {\n  return splitList.find(split => {\n    if (count >= split.start & count <= split.end) {\n      return split.value\n    }\n  })\n}\n\nexport default Intensity\n","import Intensity from './data-range/Intensity'\nimport DataSet from '../data/DataSet'\n\nconst getMaxAndMinCountByGrids = grids => {\n  let max = 0\n  let min = 0\n  Object.keys(grids).forEach((key, i) => {\n    const count = grids[key]\n    if (count > max) max = count\n    if (i > 0) {\n      if (count < min) min = count\n    } else {\n      min = grids[key]\n    }\n  })\n\n  return {\n    min,\n    max\n  }\n}\n\nexport default {\n  draw: function (context, dataSet, options) {\n    context.save()\n    const grids = {}\n    const data = dataSet instanceof DataSet ? dataSet.get() : dataSet\n    const size = options._size || options.size || 50\n    const choropleth = options.choropleth\n    let intensity = options.intensity\n    const useLocalExtrema = options.useLocalExtrema\n    const _width = options._width\n    const _height = options._height\n    // 如果有配置 width,height 项，则优先取 width,height\n    let xScale = _width || size\n    let yScale = _height || size\n    const offset = options.offset || {\n      x: 0,\n      y: 0\n    }\n\n    if (options.unit === 'px') xScale = yScale = size\n\n    for (let i = 0; i < data.length; i++) {\n      const coordinates = data[i].geometry._coordinates || data[i].geometry.coordinates\n      let coordX = (coordinates[0] - offset.x) / xScale\n      let coordY = (coordinates[1] - offset.y) / yScale\n      if (options.unit !== 'm') {\n        coordX = Math.floor(coordX)\n        coordY = Math.floor(coordY)\n      }\n\n      const gridKey = coordX + ',' + coordY\n      if (!grids[gridKey]) {\n        grids[gridKey] = 0\n      }\n      grids[gridKey] += ~~(data[i].count || 1)\n    }\n\n    let curMaxAndMin\n    if (useLocalExtrema) {\n      curMaxAndMin = getMaxAndMinCountByGrids(grids)\n      intensity = new Intensity({\n        max: curMaxAndMin.max,\n        min: curMaxAndMin.min,\n        gradient: options.gradient\n      })\n\n      choropleth.generateByMinMax(curMaxAndMin.min, curMaxAndMin.max, options.gradient)\n    }\n\n    for (let gridKey in grids) {\n      gridKey = gridKey.split(',')\n      context.beginPath()\n      context.rect(gridKey[0] * xScale + offset.x - xScale / 2, (gridKey[1] * yScale + offset.y - yScale / 2), xScale, yScale)\n      context.fillStyle = intensity.getColor(grids[gridKey])\n      context.fill()\n      if (options.strokeStyle && options.lineWidth) {\n        context.stroke()\n      }\n    }\n\n    if (options.label && options.label.show !== false) {\n      context.fillStyle = options.label.fillStyle || 'white'\n\n      if (options.label.font) {\n        context.font = options.label.font\n      }\n\n      if (options.label.shadowColor) {\n        context.shadowColor = options.label.shadowColor\n      }\n\n      if (options.label.shadowBlur) {\n        context.shadowBlur = options.label.shadowBlur\n      }\n\n      if (options.showText && choropleth.getLegend().length) {\n        for (let gridKey in grids) {\n          gridKey = gridKey.split(',')\n          const text = grids[gridKey]\n          const { value: { color } } = intensity.getTextColor(choropleth.getLegend(), text)\n          // 根据当前 count 值所在区间，获取对应的 text color 值\n          if (Object.prototype.toString.call(color) === '[object Array]' && color.length === 2) {\n            context.fillStyle = color[1]\n          }\n          const textWidth = context.measureText(text).width\n          context.fillText(text, gridKey[0] * xScale + offset.x - textWidth / 2, gridKey[1] * yScale + offset.y + 5)\n        }\n      }\n    }\n\n    context.restore()\n  }\n}\n","/* global qq */\nconst getAddressByPosition = ({ lat, lng }) => {\n  return getAddressByLatLng(pointToLatLng({ lat, lng }))\n}\n\nconst getPositionByAddress = ({ address }) => {\n  return getLatLngByAddress(address)\n}\n\nconst getLatLngByAddress = address => {\n  return new Promise(resolve => {\n    const geocoder = new qq.maps.Geocoder({\n      complete: result => resolve(result)\n    })\n\n    geocoder.getLocation(address)\n  })\n}\n\nconst getAddressByLatLng = latLng => {\n  return new Promise(resolve => {\n    const geocoder = new qq.maps.Geocoder({\n      complete: result => resolve(result)\n    })\n\n    geocoder.getAddress(latLng)\n  })\n}\n\nconst convertorPointsToPath = points => {\n  return points.map(position => {\n    return pointToLatLng(position)\n  })\n}\n\nconst pointToLatLng = ({ lat, lng }) => {\n  return new qq.maps.LatLng(lat, lng)\n}\n\n// 简单的首字母大写\nconst toPascal = str => {\n  if (!str || str.length === 0) return ''\n  return `${str[0].toUpperCase()}${str.substr(1)}`\n}\n\n// 计算直线是否相交\nconst crossMul = (v1, v2) => (v1.x * v2.y - v1.y * v2.x)\nconst isCrossingLine = ([p1, p2], [p3, p4]) => {\n  let v1 = { x: p1.x - p3.x, y: p1.y - p3.y }\n  let v2 = { x: p2.x - p3.x, y: p2.y - p3.y }\n  let v3 = { x: p4.x - p3.x, y: p4.y - p3.y }\n  let v = crossMul(v1, v3) * crossMul(v2, v3)\n  v1 = { x: p3.x - p1.x, y: p3.y - p1.y }\n  v2 = { x: p4.x - p1.x, y: p4.y - p1.y }\n  v3 = { x: p2.x - p1.x, y: p2.y - p1.y }\n  return !!((v <= 0 && crossMul(v1, v3) * crossMul(v2, v3) <= 0))\n}\n\n// 是否是无交叉多边形\nconst hasNoneCrossingLinePolygonal = (points) => {\n  const lines = getPointsLines(points)\n  return !lines.some((line, i) => {\n    const targetLines = lines.filter((_, ti) => Math.abs(ti - i) >= 2 && Math.abs(ti - i) < lines.length - 1)\n    return targetLines.some(targetLine => isCrossingLine(line, targetLine))\n  })\n}\n\n// 获取点阵组成的线\nconst getPointsLines = (points) => {\n  let lines = []\n  if (points && points.length) {\n    points.forEach((p, i) => {\n      lines.push([p, points[(i + 1 === points.length) ? 0 : i + 1]])\n    })\n  }\n  return lines\n}\n\n// 判断两个多边形是否相交\nconst isCrossingPolygonal = ([points1, points2]) => {\n  const lineList1 = getPointsLines(points1)\n  const lineList2 = getPointsLines(points2)\n  return lineList1.some(l1 => lineList2.some(l2 => isCrossingLine(l1, l2)))\n}\n// 判断一组多边形是否有交叉，如果有交叉，返回交叉的index\nconst getCrossingPolygonal = (list) => {\n  const groupList = []\n  let crossingList = []\n  if (list && Array.isArray(list) && list.length > 1) {\n    for (let i = 0, len = list.length; i < len - 1; i++) {\n      for (let j = i + 1; j < len; j++) {\n        groupList.push({\n          index: [i, j],\n          polygonal: [list[i], list[j]]\n        })\n      }\n    }\n    groupList.forEach(({ polygonal, index }) => {\n      if (isCrossingPolygonal(polygonal)) {\n        crossingList.push(index)\n      }\n    })\n  }\n  return crossingList\n}\n\n// getPolygonAreaCenter 计算多边形质心\nfunction Area (p0, p1, p2) {\n  let area = 0.0\n  area = p0.x * p1.y + p1.x * p2.y + p2.x * p0.y - p1.x * p0.y - p2.x * p1.y - p0.x * p2.y\n  return area / 2\n}\n\nconst getPolygonAreaCenter = (points) => {\n  let sumX = 0\n  let sumY = 0\n  let sumArea = 0\n  let p1 = points[1]\n  let p2, area\n  for (let i = 2; i < points.length; i++) {\n    p2 = points[i]\n    area = Area(points[0], p1, p2)\n    sumArea += area\n    sumX += (points[0].x + p1.x + p2.x) * area\n    sumY += (points[0].y + p1.y + p2.y) * area\n    p1 = p2\n  }\n  let x = sumX / sumArea / 3\n  let y = sumY / sumArea / 3\n  return { x, y }\n}\n\nconst getMapSize = map => {\n  var mapContainer = map.container\n  return {\n    width: mapContainer.clientWidth,\n    height: mapContainer.clientHeight\n  }\n}\n\nconst clear = context => {\n  context && context.clearRect && context.clearRect(0, 0, context.canvas.width, context.canvas.height)\n}\n\nconst toFixedNumber = (number, count) => {\n  const unit = Math.pow(10, count)\n  return Math.round(number * unit / unit)\n}\n\nconst fomatFloat = (value, n, flag = false) => {\n  const calc = flag ? Math.round : Math.floor\n  const f = calc(value * Math.pow(10, n)) / Math.pow(10, n)\n  let s = f.toString()\n  const rs = s.indexOf('.')\n  if (rs < 0) {\n    s += '.'\n  }\n\n  for (let i = s.length - s.indexOf('.'); i <= n; i++) {\n    s += '0'\n  }\n\n  return s\n}\n\nexport {\n  getPositionByAddress,\n  getAddressByLatLng,\n  convertorPointsToPath,\n  getAddressByPosition,\n  pointToLatLng,\n  toPascal,\n  hasNoneCrossingLinePolygonal,\n  getCrossingPolygonal,\n  isCrossingPolygonal,\n  getPolygonAreaCenter,\n  getMapSize,\n  clear,\n  toFixedNumber,\n  fomatFloat\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;"],"sourceRoot":""}